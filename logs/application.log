2025-11-13 12:54:13 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 160211 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 12:54:13 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 12:54:13 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 12:54:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 12:54:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 14 JPA repository interfaces.
2025-11-13 12:54:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 12:54:16 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 12:54:16 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 12:54:16 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 12:54:16 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2346 ms
2025-11-13 12:54:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 12:54:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 12:54:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 12:54:16 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 12:54:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 12:54:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ac9e53c
2025-11-13 12:54:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 12:54:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 12:54:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 12:54:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 12:54:19 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 12:54:20 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 12:54:21 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 12:54:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 12:54:21 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 12:54:21 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 12:54:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 12:54:21 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 12:54:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 12:54:22 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 9.067 seconds (process running for 9.701)
2025-11-13 12:57:13 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 12:57:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 12:57:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 12:57:27 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 162697 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 12:57:27 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 12:57:27 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 12:57:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 12:57:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 14 JPA repository interfaces.
2025-11-13 12:57:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 12:57:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 12:57:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 12:57:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 12:57:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 871 ms
2025-11-13 12:57:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 12:57:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 12:57:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 12:57:28 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 12:57:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 12:57:29 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 3D000
2025-11-13 12:57:29 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - FATAL: database "restaurant_billing" does not exist
2025-11-13 12:57:29 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
org.hibernate.exception.GenericJDBCException: unable to obtain isolated JDBC connection [FATAL: database "restaurant_billing" does not exist] [n/a]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:292)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:124)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:78)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1705)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1454)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1448)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1448)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:520)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.restaurant.billing.RestaurantBillingApplication.main(RestaurantBillingApplication.java:20)
Caused by: org.postgresql.util.PSQLException: FATAL: database "restaurant_billing" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2845)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:176)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:323)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273)
	at org.postgresql.Driver.makeConnection(Driver.java:446)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 121 common frames omitted
2025-11-13 12:57:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 12:57:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 12:57:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 12:57:31 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 3D000
2025-11-13 12:57:31 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - FATAL: database "restaurant_billing" does not exist
2025-11-13 12:57:31 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "restaurant_billing" does not exist] [n/a]
2025-11-13 12:57:31 [main] ERROR o.s.b.w.e.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter' defined in file [/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main/com/restaurant/billing/security/JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'customUserDetailsService' defined in file [/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main/com/restaurant/billing/service/CustomUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.restaurant.billing.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-11-13 12:57:31 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-11-13 12:57:31 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-11-13 12:57:31 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-13 12:57:31 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.restaurant.billing.RestaurantBillingApplication.main(RestaurantBillingApplication.java:20)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:520)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter' defined in file [/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main/com/restaurant/billing/security/JwtAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'customUserDetailsService' defined in file [/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main/com/restaurant/billing/service/CustomUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.restaurant.billing.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customUserDetailsService' defined in file [/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main/com/restaurant/billing/service/CustomUserDetailsService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'userRepository' defined in com.restaurant.billing.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1448)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.restaurant.billing.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1705)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1454)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1448)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1358)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782)
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "restaurant_billing" does not exist] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 94 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "restaurant_billing" does not exist] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 101 common frames omitted
Caused by: org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution [FATAL: database "restaurant_billing" does not exist] [n/a]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:100)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 105 common frames omitted
Caused by: org.postgresql.util.PSQLException: FATAL: database "restaurant_billing" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2845)
	at org.postgresql.core.v3.QueryExecutorImpl.<init>(QueryExecutorImpl.java:176)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:323)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273)
	at org.postgresql.Driver.makeConnection(Driver.java:446)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 125 common frames omitted
2025-11-13 12:57:45 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 163167 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 12:57:45 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 12:57:45 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 12:57:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 12:57:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 14 JPA repository interfaces.
2025-11-13 12:57:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 12:57:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 12:57:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 12:57:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 12:57:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 864 ms
2025-11-13 12:57:46 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 12:57:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 12:57:46 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 12:57:46 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 12:57:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 12:57:46 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ab86b2a
2025-11-13 12:57:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 12:57:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 12:57:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.bills (
        id uuid not null,
        bill_number varchar(255) not null,
        change_amount numeric(10,2),
        created_at timestamp(6),
        discount_amount numeric(10,2),
        invoice_path varchar(255),
        paid_amount numeric(10,2),
        payment_method varchar(255) check (payment_method in ('CASH','CARD','UPI','ONLINE')),
        payment_status varchar(255) check (payment_status in ('PENDING','PAID','PARTIALLY_PAID','REFUNDED')),
        service_charge numeric(10,2),
        subtotal numeric(10,2),
        tax_amount numeric(10,2),
        tenant_id uuid not null,
        total_amount numeric(10,2),
        generated_by uuid,
        order_id uuid not null,
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.bookings (
        id uuid not null,
        booking_date timestamp(6) not null,
        booking_number varchar(255),
        created_at timestamp(6),
        customer_email varchar(255),
        customer_name varchar(255) not null,
        customer_phone varchar(255) not null,
        number_of_guests integer,
        special_requests varchar(255),
        status varchar(255) check (status in ('CONFIRMED','CANCELLED','COMPLETED','NO_SHOW')),
        tenant_id uuid not null,
        table_id uuid,
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.categories (
        id uuid not null,
        created_at timestamp(6),
        display_order integer,
        is_active boolean,
        name varchar(255) not null,
        tenant_id uuid not null,
        updated_at timestamp(6),
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.feature_catalog (
        feature_code varchar(50) not null,
        created_at timestamp(6),
        default_enabled boolean,
        feature_category varchar(255),
        feature_description varchar(255),
        feature_name varchar(255) not null,
        is_premium boolean,
        primary key (feature_code)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.inventory_items (
        id uuid not null,
        cost_per_unit numeric(10,2),
        created_at timestamp(6),
        current_stock numeric(10,2),
        is_active boolean,
        item_name varchar(255) not null,
        minimum_stock numeric(10,2),
        tenant_id uuid not null,
        unit varchar(255),
        updated_at timestamp(6),
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.menu_items (
        id uuid not null,
        created_at timestamp(6),
        description varchar(255),
        device_id varchar(255),
        image_path varchar(255),
        is_available boolean,
        is_deleted boolean,
        is_veg boolean,
        name varchar(255) not null,
        preparation_time integer,
        price numeric(10,2) not null,
        synced_at timestamp(6),
        tenant_id uuid not null,
        updated_at timestamp(6),
        version bigint,
        category_id uuid,
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.order_items (
        id uuid not null,
        created_at timestamp(6),
        item_name varchar(255) not null,
        quantity integer not null,
        special_instructions varchar(255),
        status varchar(255) check (status in ('PENDING','PREPARING','READY','SERVED')),
        total_price numeric(10,2),
        unit_price numeric(10,2),
        menu_item_id uuid not null,
        order_id uuid not null,
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.orders (
        id uuid not null,
        created_at timestamp(6),
        customer_name varchar(255),
        customer_phone varchar(255),
        device_id varchar(255),
        discount_amount numeric(10,2),
        is_deleted boolean,
        notes varchar(255),
        order_number varchar(255),
        order_status varchar(255) check (order_status in ('PENDING','CONFIRMED','PREPARING','READY','SERVED','COMPLETED','CANCELLED')),
        order_type varchar(255) check (order_type in ('DINE_IN','TAKEAWAY','DELIVERY','QR_ORDER')),
        service_charge numeric(10,2),
        subtotal numeric(10,2),
        synced_at timestamp(6),
        tax_amount numeric(10,2),
        tenant_id uuid not null,
        total_amount numeric(10,2),
        updated_at timestamp(6),
        version bigint,
        created_by uuid,
        table_id uuid,
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.payments (
        id uuid not null,
        amount numeric(10,2),
        created_at timestamp(6),
        currency varchar(255),
        description varchar(255),
        failure_reason varchar(255),
        payment_type varchar(255) check (payment_type in ('SUBSCRIPTION','RENEWAL','UPGRADE')),
        razorpay_order_id varchar(255),
        razorpay_payment_id varchar(255),
        razorpay_signature varchar(255),
        status varchar(255) check (status in ('PENDING','SUCCESS','FAILED','REFUNDED')),
        tenant_id uuid not null,
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.restaurant_tables (
        id uuid not null,
        created_at timestamp(6),
        is_active boolean,
        qr_code_path varchar(255),
        seating_capacity integer,
        status varchar(255) check (status in ('AVAILABLE','OCCUPIED','RESERVED','CLEANING')),
        table_number varchar(255) not null,
        tenant_id uuid not null,
        updated_at timestamp(6),
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.sync_logs (
        id uuid not null,
        client_version bigint,
        created_at timestamp(6),
        device_id varchar(255),
        entity_id uuid,
        entity_type varchar(255),
        error_message varchar(255),
        operation varchar(255) check (operation in ('CREATE','UPDATE','DELETE')),
        payload jsonb,
        server_version bigint,
        status varchar(255) check (status in ('SUCCESS','FAILED','CONFLICT')),
        tenant_id uuid not null,
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.tenant_features (
        id uuid not null,
        configuration jsonb,
        created_at timestamp(6),
        enabled_at timestamp(6),
        is_enabled boolean,
        tenant_id uuid not null,
        feature_code varchar(50) not null,
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.tenants (
        id uuid not null,
        address varchar(255),
        city varchar(255),
        created_at timestamp(6),
        currency varchar(10),
        gstin varchar(255),
        is_active boolean,
        logo_path varchar(255),
        max_storage_gb integer,
        max_users integer,
        owner_email varchar(255) not null,
        owner_name varchar(255) not null,
        owner_phone varchar(255),
        pincode varchar(255),
        razorpay_customer_id varchar(255),
        razorpay_subscription_id varchar(255),
        restaurant_code varchar(255) not null,
        restaurant_name varchar(255) not null,
        service_charge_rate numeric(5,2),
        state varchar(255),
        subscription_end_date timestamp(6),
        subscription_plan varchar(50) check (subscription_plan in ('TRIAL','PRIME')),
        subscription_start_date timestamp(6),
        subscription_status varchar(50) check (subscription_status in ('TRIAL','ACTIVE','EXPIRED','CANCELLED','SUSPENDED')),
        tax_rate numeric(5,2),
        timezone varchar(255),
        trial_end_date timestamp(6),
        updated_at timestamp(6),
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    create table public.users (
        id uuid not null,
        auth_provider varchar(255) check (auth_provider in ('GOOGLE','LOCAL')),
        created_at timestamp(6),
        email varchar(255) not null,
        google_id varchar(255),
        is_active boolean,
        last_login timestamp(6),
        name varchar(255) not null,
        password_hash varchar(255),
        phone varchar(255),
        refresh_token varchar(255),
        refresh_token_expiry timestamp(6),
        role varchar(255) not null check (role in ('OWNER','MANAGER','WAITER','CHEF','CASHIER')),
        updated_at timestamp(6),
        tenant_id uuid not null,
        primary key (id)
    )
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.bills 
       drop constraint if exists UK7959pofuil5cipraog67b4j29
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk7959pofuil5cipraog67b4j29" of relation "bills" does not exist, skipping
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.bills 
       add constraint UK7959pofuil5cipraog67b4j29 unique (bill_number)
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.bills 
       drop constraint if exists UK575bqi2iwedxvaiwo0mbg60cp
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk575bqi2iwedxvaiwo0mbg60cp" of relation "bills" does not exist, skipping
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.bills 
       add constraint UK575bqi2iwedxvaiwo0mbg60cp unique (order_id)
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.bookings 
       drop constraint if exists UKe2b8ksk9hptq6l8msdvoo6anv
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uke2b8ksk9hptq6l8msdvoo6anv" of relation "bookings" does not exist, skipping
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.bookings 
       add constraint UKe2b8ksk9hptq6l8msdvoo6anv unique (booking_number)
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.orders 
       drop constraint if exists UKnthkiu7pgmnqnu86i2jyoe2v7
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uknthkiu7pgmnqnu86i2jyoe2v7" of relation "orders" does not exist, skipping
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.orders 
       add constraint UKnthkiu7pgmnqnu86i2jyoe2v7 unique (order_number)
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.tenants 
       drop constraint if exists UKtluis4dy6emyuuq138bn5bty1
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uktluis4dy6emyuuq138bn5bty1" of relation "tenants" does not exist, skipping
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.tenants 
       add constraint UKtluis4dy6emyuuq138bn5bty1 unique (owner_email)
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.tenants 
       drop constraint if exists UKipdd1dot2myug1goyltj8brh9
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-11-13 12:57:47 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukipdd1dot2myug1goyltj8brh9" of relation "tenants" does not exist, skipping
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.tenants 
       add constraint UKipdd1dot2myug1goyltj8brh9 unique (restaurant_code)
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.bills 
       add constraint FKft95715rc4rh9cyxlqpydvrqk 
       foreign key (generated_by) 
       references public.users
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.bills 
       add constraint FK2s1iwv6bgsmh8u9awhdd1aela 
       foreign key (order_id) 
       references public.orders
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.bookings 
       add constraint FKboqshdprbnm2ri6xqi0inmm6y 
       foreign key (table_id) 
       references public.restaurant_tables
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.menu_items 
       add constraint FK5bg0vbmql5ggu48n7d5pwgjg3 
       foreign key (category_id) 
       references public.categories
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.order_items 
       add constraint FKdtfg1f49yr5yye2fpl2xid2xo 
       foreign key (menu_item_id) 
       references public.menu_items
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references public.orders
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.orders 
       add constraint FKtjwuphstqm46uffgc7l1r27a9 
       foreign key (created_by) 
       references public.users
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.orders 
       add constraint FK8nathddqyn5kpjldujiu5lhhv 
       foreign key (table_id) 
       references public.restaurant_tables
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.orders 
       add constraint FK45pihpalbn6gyf7x3l9hbybw0 
       foreign key (tenant_id) 
       references public.tenants
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.tenant_features 
       add constraint FKos25dd8p96qwr0iwcg56hyabt 
       foreign key (feature_code) 
       references public.feature_catalog
2025-11-13 12:57:47 [main] DEBUG org.hibernate.SQL - 
    alter table if exists public.users 
       add constraint FK21hn1a5ja1tve7ae02fnn4cld 
       foreign key (tenant_id) 
       references public.tenants
2025-11-13 12:57:47 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 12:57:47 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 12:57:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 12:57:48 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 12:57:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 12:57:48 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 12:57:48 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 12:57:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 12:57:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 12:57:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 12:57:48 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 3.587 seconds (process running for 3.856)
2025-11-13 12:57:58 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 12:57:58 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@37500808
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ca802e3
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 12:57:58 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:57:58 [http-nio-8881-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:08 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-11-13 12:58:08 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:08 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:08 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 12:58:08 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:08 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:10 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-11-13 12:58:10 [http-nio-8881-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:10 [http-nio-8881-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:10 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 12:58:10 [http-nio-8881-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:10 [http-nio-8881-exec-3] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:13 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-11-13 12:58:13 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:13 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:13 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 12:58:13 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:13 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:17 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-11-13 12:58:17 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:17 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:17 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 12:58:17 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:17 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:58 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-11-13 12:58:58 [http-nio-8881-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:58 [http-nio-8881-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 12:58:58 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 12:58:58 [http-nio-8881-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 12:58:58 [http-nio-8881-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 13:04:50 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 13:04:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 13:04:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 13:04:53 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 167763 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 13:04:53 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 13:04:53 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 13:04:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 13:04:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 14 JPA repository interfaces.
2025-11-13 13:04:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 13:04:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 13:04:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 13:04:54 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 13:04:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 865 ms
2025-11-13 13:04:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 13:04:54 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 13:04:54 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 13:04:54 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 13:04:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 13:04:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1dc9f5ad
2025-11-13 13:04:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 13:04:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 13:04:55 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 13:04:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 13:04:56 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 13:04:56 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 13:04:56 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 13:04:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 13:04:57 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 13:04:57 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 13:04:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 13:04:57 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 13:04:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 13:04:57 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 3.77 seconds (process running for 4.033)
2025-11-13 13:05:16 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 13:05:16 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@73e9d4d0
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2e0d0819
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 13:05:16 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-13 13:05:16 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:05:16 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-11-13 13:05:16 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:05:16 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-11-13 13:05:16 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-11-13 13:05:16 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-11-13 13:05:16 [http-nio-8881-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:05:16 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-11-13 13:05:16 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-11-13 13:05:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-13 13:05:16 [http-nio-8881-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-13 13:05:16 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-11-13 13:05:16 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-11-13 13:05:16 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-11-13 13:05:16 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:05:16 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:05:16 [http-nio-8881-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:05:16 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-11-13 13:05:16 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-11-13 13:05:16 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-11-13 13:05:16 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-11-13 13:05:16 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-11-13 13:05:16 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-11-13 13:05:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-13 13:05:16 [http-nio-8881-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-13 13:05:16 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:05:16 [http-nio-8881-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-13 13:05:16 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:05:16 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:05:16 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:05:16 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:05:16 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-11-13 13:05:16 [http-nio-8881-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:05:16 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/favicon-32x32.png
2025-11-13 13:05:16 [http-nio-8881-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:05:16 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-11-13 13:05:16 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/favicon-32x32.png
2025-11-13 13:05:16 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-11-13 13:05:16 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/favicon-32x32.png", parameters={}
2025-11-13 13:05:16 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-11-13 13:05:16 [http-nio-8881-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-11-13 13:05:16 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:05:16 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-11-13 13:05:16 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8881/swagger-ui/oauth2-re (truncated)...]
2025-11-13 13:05:16 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:05:16 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-11-13 13:05:16 [http-nio-8881-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:05:16 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-11-13 13:05:16 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-11-13 13:05:16 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-11-13 13:05:16 [http-nio-8881-exec-9] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 242 ms
2025-11-13 13:05:16 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-11-13 13:05:16 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-11-13 13:05:16 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:06:10 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-11-13 13:06:10 [http-nio-8881-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:06:10 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-11-13 13:06:10 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-11-13 13:06:10 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-11-13 13:06:10 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json]
2025-11-13 13:06:10 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-11-13 13:06:10 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Nov 13 13:06:10 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/f (truncated)...]
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-11-13 13:06:10 [http-nio-8881-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/users
2025-11-13 13:07:10 [http-nio-8881-exec-8] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/users
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/users", parameters={}
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#createUser(CreateUserRequest)
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(email=ganeshkumarg024@gmail.com, name=ganeshkumar, phone=6379015821, password=pass (truncated)...]
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 13:07:10 [http-nio-8881-exec-8] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy168.findById(Unknown Source)
	at com.restaurant.billing.service.AuthService.createUser(AuthService.java:185)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.AuthService$$SpringCGLIB$$0.createUser(<generated>)
	at com.restaurant.billing.controller.AuthController.createUser(AuthController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.IllegalArgumentException: The given id must not be null
	at org.springframework.util.Assert.notNull(Assert.java:172)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:313)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:173)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 128 common frames omitted
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:07:10.388686461, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null]
2025-11-13 13:07:10 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/users
2025-11-13 13:07:25 [http-nio-8881-exec-10] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/users
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/users", parameters={}
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#createUser(CreateUserRequest)
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateUserRequest(email=ganeshkumarg024@gmail.com, name=ganeshkumar, phone=6379015821, password=pass (truncated)...]
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 13:07:25 [http-nio-8881-exec-10] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy168.findById(Unknown Source)
	at com.restaurant.billing.service.AuthService.createUser(AuthService.java:185)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.AuthService$$SpringCGLIB$$0.createUser(<generated>)
	at com.restaurant.billing.controller.AuthController.createUser(AuthController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: java.lang.IllegalArgumentException: The given id must not be null
	at org.springframework.util.Assert.notNull(Assert.java:172)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:313)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:173)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 128 common frames omitted
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:07:25.412001424, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.dao.InvalidDataAccessApiUsageException: The given id must not be null]
2025-11-13 13:07:25 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 13:08:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 13:08:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 13:08:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 13:08:56 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 170845 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 13:08:56 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 13:08:56 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 13:08:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 13:08:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 14 JPA repository interfaces.
2025-11-13 13:08:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 13:08:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 13:08:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 13:08:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 13:08:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 954 ms
2025-11-13 13:08:57 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 13:08:57 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 13:08:57 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 13:08:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 13:08:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 13:08:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6dde1bf5
2025-11-13 13:08:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 13:08:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 13:08:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 13:08:58 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 13:08:59 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 13:08:59 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 13:08:59 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 13:08:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 13:08:59 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 13:08:59 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 13:08:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 13:08:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 13:09:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 13:09:00 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 4.054 seconds (process running for 4.336)
2025-11-13 13:09:06 [http-nio-8881-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 13:09:06 [http-nio-8881-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7116f350
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5fac8f7e
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 13:09:06 [http-nio-8881-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/users
2025-11-13 13:09:06 [http-nio-8881-exec-2] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/users
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/users", parameters={}
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 13:09:06 [http-nio-8881-exec-2] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:586)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:09:06.272312715, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.]
2025-11-13 13:09:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 13:09:52 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 13:09:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 13:09:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 13:09:53 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 171651 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 13:09:53 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 13:09:53 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 13:09:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 13:09:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 14 JPA repository interfaces.
2025-11-13 13:09:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 13:09:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 13:09:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 13:09:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 13:09:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1130 ms
2025-11-13 13:09:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 13:09:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 13:09:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 13:09:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 13:09:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 13:09:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@42403dc6
2025-11-13 13:09:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 13:09:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 13:09:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 13:09:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 13:09:56 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 13:09:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 13:09:57 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 13:09:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 13:09:58 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 13:09:58 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 13:09:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 13:09:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 13:09:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 13:09:58 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 5.025 seconds (process running for 5.659)
2025-11-13 13:10:01 [http-nio-8881-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 13:10:01 [http-nio-8881-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@505f8cf
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1f6460f5
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 13:10:01 [http-nio-8881-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/users
2025-11-13 13:10:01 [http-nio-8881-exec-2] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/users
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/users", parameters={}
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 13:10:01 [http-nio-8881-exec-2] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:586)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:10:01.779790750, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.]
2025-11-13 13:10:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 13:10:42 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-11-13 13:10:42 [http-nio-8881-exec-4] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-11-13 13:10:42 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:10:42 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-11-13 13:10:42 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-11-13 13:10:42 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#register(RegisterRequest)
2025-11-13 13:10:43 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(restaurantName=Gk, ownerName=Ganesh, ownerEmail=ganeshkumarg024@gmail.com, ownerPhon (truncated)...]
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id 
    from
        public.tenants t1_0 
    where
        t1_0.owner_email=? 
    fetch
        first ? rows only
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:10:48 [http-nio-8881-exec-4] INFO  c.r.billing.service.FeatureService - Initialized default features for tenant: d49d4319-4cd1-4fbd-8860-c39715a6fad6
2025-11-13 13:10:48 [http-nio-8881-exec-4] INFO  c.r.billing.service.AuthService - New tenant registered: d49d4319-4cd1-4fbd-8860-c39715a6fad6
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenants
        (address, city, created_at, currency, gstin, is_active, logo_path, max_storage_gb, max_users, owner_email, owner_name, owner_phone, pincode, razorpay_customer_id, razorpay_subscription_id, restaurant_code, restaurant_name, service_charge_rate, state, subscription_end_date, subscription_plan, subscription_start_date, subscription_status, tax_rate, timezone, trial_end_date, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.users
        (auth_provider, created_at, email, google_id, is_active, last_login, name, password_hash, phone, refresh_token, refresh_token_expiry, role, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.feature_catalog
        (created_at, default_enabled, feature_category, feature_description, feature_name, is_premium, feature_code) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenant_features
        (configuration, created_at, enabled_at, feature_code, is_enabled, tenant_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.feature_catalog
        (created_at, default_enabled, feature_category, feature_description, feature_name, is_premium, feature_code) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenant_features
        (configuration, created_at, enabled_at, feature_code, is_enabled, tenant_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.feature_catalog
        (created_at, default_enabled, feature_category, feature_description, feature_name, is_premium, feature_code) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenant_features
        (configuration, created_at, enabled_at, feature_code, is_enabled, tenant_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.feature_catalog
        (created_at, default_enabled, feature_category, feature_description, feature_name, is_premium, feature_code) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenant_features
        (configuration, created_at, enabled_at, feature_code, is_enabled, tenant_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6ImQ0OWQ0MzE5LTRjZD (truncated)...]
2025-11-13 13:10:48 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/users
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/users
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/users", parameters={}
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 13:11:15 [http-nio-8881-exec-5] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:586)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:11:15.538333569, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.]
2025-11-13 13:11:15 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/users
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/users
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/users", parameters={}
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 13:11:35 [http-nio-8881-exec-7] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:586)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:11:35.863921575, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.]
2025-11-13 13:11:35 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/users
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/users
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/users", parameters={}
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 13:11:41 [http-nio-8881-exec-9] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:586)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:11:41.293973096, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.]
2025-11-13 13:11:41 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/users
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/users
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/users", parameters={}
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 13:12:31 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:586)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:12:31.591622952, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.]
2025-11-13 13:12:31 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/users
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/users
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/users", parameters={}
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 13:12:48 [http-nio-8881-exec-3] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:586)
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:12:48.490308510, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource api/auth/users.]
2025-11-13 13:12:48 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 13:12:59 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-11-13 13:12:59 [http-nio-8881-exec-5] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT strings must contain exactly 2 period characters. Found: 0
2025-11-13 13:12:59 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:12:59 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-11-13 13:12:59 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-11-13 13:12:59 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#register(RegisterRequest)
2025-11-13 13:12:59 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(restaurantName=Gk, ownerName=Ganesh, ownerEmail=ganeshkumarg024@gmail.com, ownerPhon (truncated)...]
2025-11-13 13:13:03 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id 
    from
        public.tenants t1_0 
    where
        t1_0.owner_email=? 
    fetch
        first ? rows only
2025-11-13 13:13:03 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleBadRequest(BadRequestException)
2025-11-13 13:13:03 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:13:03 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:13:03.402012701, status=400, error=Bad Request, message=Email  (truncated)...]
2025-11-13 13:13:03 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.restaurant.billing.exception.BadRequestException: Email already registered]
2025-11-13 13:13:03 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/categories
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/categories
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/categories", parameters={}
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#createCategory(CreateCategoryRequest, UserDetails)
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: d49d4319-4cd1-4fbd-8860-c39715a6fad6
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCategoryRequest(name=string, displayOrder=643)]
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 13:13:31 [http-nio-8881-exec-7] INFO  c.r.billing.service.CategoryService - Created category 63923b7b-d47e-4b85-baef-c7146610d800 for tenant d49d4319-4cd1-4fbd-8860-c39715a6fad6
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.categories
        (created_at, display_order, is_active, name, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoryDto(id=63923b7b-d47e-4b85-baef-c7146610d800, name=string, displayOrder=643)]
2025-11-13 13:13:31 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: d49d4319-4cd1-4fbd-8860-c39715a6fad6
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant d49d4319-4cd1-4fbd-8860-c39715a6fad6
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=63923b7b-d47e-4b85-baef-c7146610d800, name=string, displayOrder=643)]]
2025-11-13 13:14:26 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:44:15 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 13:44:15 [http-nio-8881-exec-10] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:40597' origin is not allowed
2025-11-13 13:44:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 13:44:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 13:44:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 13:44:58 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 201566 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 13:44:58 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 13:44:58 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 13:44:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 13:44:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 14 JPA repository interfaces.
2025-11-13 13:44:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 13:44:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 13:44:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 13:44:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 13:44:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 948 ms
2025-11-13 13:44:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 13:44:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 13:44:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 13:44:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 13:44:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 13:44:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@11c999da
2025-11-13 13:44:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 13:44:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 13:45:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 13:45:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 13:45:01 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 13:45:01 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 13:45:01 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 13:45:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 13:45:02 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 13:45:02 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 13:45:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 13:45:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 13:45:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 13:45:02 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 4.172 seconds (process running for 4.56)
2025-11-13 13:45:06 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 13:45:06 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 13:45:06 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 13:45:06 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 13:45:06 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 13:45:06 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1a212395
2025-11-13 13:45:06 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2250d39c
2025-11-13 13:45:06 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 13:45:06 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-13 13:45:06 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=REST753C56AF, username=Ganesh, password=Admin@3421)]
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleBadRequest(BadRequestException)
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:45:06.281581818, status=400, error=Bad Request, message=Invali (truncated)...]
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.restaurant.billing.exception.BadRequestException: Invalid credentials]
2025-11-13 13:45:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=REST753C56AF, username=Ganesh, password=Admin@3421)]
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleBadRequest(BadRequestException)
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T13:45:12.693281283, status=400, error=Bad Request, message=Invali (truncated)...]
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.restaurant.billing.exception.BadRequestException: Invalid credentials]
2025-11-13 13:45:12 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2025-11-13 13:45:44 [http-nio-8881-exec-5] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T07:55:48Z. Current time: 2025-11-13T08:15:44Z, a difference of 1196617 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/register", parameters={}
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#register(RegisterRequest)
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RegisterRequest(restaurantName=Gkh, ownerName=Ganeshh, ownerEmail=ganeshkumarg0242@gmail.com, ownerP (truncated)...]
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id 
    from
        public.tenants t1_0 
    where
        t1_0.owner_email=? 
    fetch
        first ? rows only
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        fc1_0.feature_code,
        fc1_0.created_at,
        fc1_0.default_enabled,
        fc1_0.feature_category,
        fc1_0.feature_description,
        fc1_0.feature_name,
        fc1_0.is_premium 
    from
        public.feature_catalog fc1_0 
    where
        fc1_0.feature_code=?
2025-11-13 13:45:44 [http-nio-8881-exec-5] INFO  c.r.billing.service.FeatureService - Initialized default features for tenant: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 13:45:44 [http-nio-8881-exec-5] INFO  c.r.billing.service.AuthService - New tenant registered: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenants
        (address, city, created_at, currency, gstin, is_active, logo_path, max_storage_gb, max_users, owner_email, owner_name, owner_phone, pincode, razorpay_customer_id, razorpay_subscription_id, restaurant_code, restaurant_name, service_charge_rate, state, subscription_end_date, subscription_plan, subscription_start_date, subscription_status, tax_rate, timezone, trial_end_date, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.users
        (auth_provider, created_at, email, google_id, is_active, last_login, name, password_hash, phone, refresh_token, refresh_token_expiry, role, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenant_features
        (configuration, created_at, enabled_at, feature_code, is_enabled, tenant_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenant_features
        (configuration, created_at, enabled_at, feature_code, is_enabled, tenant_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenant_features
        (configuration, created_at, enabled_at, feature_code, is_enabled, tenant_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.tenant_features
        (configuration, created_at, enabled_at, feature_code, is_enabled, tenant_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 13:45:44 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 13:47:36 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:35:55 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 14:35:55 [http-nio-8881-exec-9] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:39807' origin is not allowed
2025-11-13 14:36:11 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 14:36:11 [http-nio-8881-exec-10] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:39807' origin is not allowed
2025-11-13 14:36:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 14:36:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 14:36:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 14:36:30 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 226035 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 14:36:30 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 14:36:30 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 14:36:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 14:36:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 46 ms. Found 14 JPA repository interfaces.
2025-11-13 14:36:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 14:36:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 14:36:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 14:36:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 14:36:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1076 ms
2025-11-13 14:36:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 14:36:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 14:36:31 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 14:36:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 14:36:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 14:36:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ab86b2a
2025-11-13 14:36:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 14:36:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 14:36:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 14:36:33 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 14:36:33 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 14:36:33 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 14:36:34 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 14:36:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 14:36:34 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 14:36:34 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 14:36:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 14:36:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 14:36:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 14:36:34 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 4.218 seconds (process running for 4.507)
2025-11-13 14:36:41 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 14:36:41 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 14:36:41 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 14:36:41 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 14:36:41 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 14:36:41 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6880c06b
2025-11-13 14:36:41 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@36072e34
2025-11-13 14:36:41 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 14:36:41 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-13 14:36:41 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 14:36:41 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:36:42 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T14%3A36%3A42.070
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T14%3A36%3A42.070
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T14%3A36%3A42.070
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T14%3A36%3A42.070", parameters={masked}
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:36:42 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:36:50 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T14%3A36%3A50.048&endDate=2025-11-13T14%3A36%3A50.048
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T14%3A36%3A50.048&endDate=2025-11-13T14%3A36%3A50.048
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T14%3A36%3A50.048&endDate=2025-11-13T14%3A36%3A50.048
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T14%3A36%3A50.048&endDate=2025-11-13T14%3A36%3A50.048", parameters={masked}
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:36:50 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:36:50 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T14%3A36%3A50.048&endDate=2025-11-13T14%3A36%3A50.048
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T14%3A36%3A50.048&endDate=2025-11-13T14%3A36%3A50.048
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T14%3A36%3A50.048&endDate=2025-11-13T14%3A36%3A50.048
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T14%3A36%3A50.048&endDate=2025-11-13T14%3A36%3A50.048", parameters={masked}
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:36:50 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:37:26 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T14%3A37%3A26.415&endDate=2025-11-13T14%3A37%3A26.415
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T14%3A37%3A26.415&endDate=2025-11-13T14%3A37%3A26.415
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T14%3A37%3A26.415&endDate=2025-11-13T14%3A37%3A26.415
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T14%3A37%3A26.415&endDate=2025-11-13T14%3A37%3A26.415", parameters={masked}
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:37:26 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:37:26 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T14%3A37%3A26.415&endDate=2025-11-13T14%3A37%3A26.415
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T14%3A37%3A26.415&endDate=2025-11-13T14%3A37%3A26.415
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T14%3A37%3A26.415&endDate=2025-11-13T14%3A37%3A26.415
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T14%3A37%3A26.415&endDate=2025-11-13T14%3A37%3A26.415", parameters={masked}
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:37:26 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:37:29 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T14%3A37%3A29.474&endDate=2025-11-13T14%3A37%3A29.474
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T14%3A37%3A29.474&endDate=2025-11-13T14%3A37%3A29.474
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T14%3A37%3A29.474&endDate=2025-11-13T14%3A37%3A29.474
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T14%3A37%3A29.474&endDate=2025-11-13T14%3A37%3A29.474", parameters={masked}
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:37:29 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:37:29 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T14%3A37%3A29.474&endDate=2025-11-13T14%3A37%3A29.474
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T14%3A37%3A29.474&endDate=2025-11-13T14%3A37%3A29.474
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T14%3A37%3A29.474&endDate=2025-11-13T14%3A37%3A29.474
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T14%3A37%3A29.474&endDate=2025-11-13T14%3A37%3A29.474", parameters={masked}
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:37:29 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 14:38:24 [http-nio-8881-exec-8] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T07:55:48Z. Current time: 2025-11-13T09:08:24Z, a difference of 4356697 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 14:38:24 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/categories
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/categories
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/categories", parameters={}
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#createCategory(CreateCategoryRequest, UserDetails)
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCategoryRequest(name=string, displayOrder=643)]
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:38:54 [http-nio-8881-exec-10] INFO  c.r.billing.service.CategoryService - Created category 8e080396-f804-4474-9aa0-bcbe91d39b4d for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.categories
        (created_at, display_order, is_active, name, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]
2025-11-13 14:38:54 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/menu
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/menu
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/menu", parameters={}
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#createMenuItem(MenuItemDto, String)
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [MenuItemDto(id=8257360e-67d6-0831-05b6-dc9cd3c057af, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4d (truncated)...]
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restaurant.billing.controller.MenuController.createMenuItem(com.restaurant.billing.dto.menu.MenuItemDto,java.lang.String); target is of class [com.restaurant.billing.controller.MenuController]
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restaurant.billing.controller.MenuController.createMenuItem(com.restaurant.billing.dto.menu.MenuItemDto,java.lang.String); target is of class [com.restaurant.billing.controller.MenuController]
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.id=?
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.menu_items
        (category_id, created_at, description, device_id, image_path, is_available, is_deleted, is_veg, name, preparation_time, price, synced_at, tenant_id, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4d (truncated)...]
2025-11-13 14:39:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 14:39:57 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T14%3A39%3A57.843&endDate=2025-11-13T14%3A39%3A57.843
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T14%3A39%3A57.843&endDate=2025-11-13T14%3A39%3A57.843
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T14%3A39%3A57.843&endDate=2025-11-13T14%3A39%3A57.843
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T14%3A39%3A57.843&endDate=2025-11-13T14%3A39%3A57.843", parameters={masked}
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:39:57 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:39:57 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T14%3A39%3A57.843&endDate=2025-11-13T14%3A39%3A57.843
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T14%3A39%3A57.843&endDate=2025-11-13T14%3A39%3A57.843
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T14%3A39%3A57.843&endDate=2025-11-13T14%3A39%3A57.843
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T14%3A39%3A57.843&endDate=2025-11-13T14%3A39%3A57.843", parameters={masked}
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:39:57 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:40:20 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T14%3A40%3A20.081&endDate=2025-11-13T14%3A40%3A20.081
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T14%3A40%3A20.081&endDate=2025-11-13T14%3A40%3A20.081
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T14%3A40%3A20.081&endDate=2025-11-13T14%3A40%3A20.081
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T14%3A40%3A20.081&endDate=2025-11-13T14%3A40%3A20.081", parameters={masked}
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:40:20 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:40:20 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T14%3A40%3A20.081&endDate=2025-11-13T14%3A40%3A20.081
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T14%3A40%3A20.081&endDate=2025-11-13T14%3A40%3A20.081
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T14%3A40%3A20.081&endDate=2025-11-13T14%3A40%3A20.081
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T14%3A40%3A20.081&endDate=2025-11-13T14%3A40%3A20.081", parameters={masked}
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:40:20 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:40:37 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T14%3A40%3A37.890&endDate=2025-11-13T14%3A40%3A37.890
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T14%3A40%3A37.890&endDate=2025-11-13T14%3A40%3A37.890
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T14%3A40%3A37.890&endDate=2025-11-13T14%3A40%3A37.890
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T14%3A40%3A37.890&endDate=2025-11-13T14%3A40%3A37.890", parameters={masked}
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:40:37 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:40:37 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T14%3A40%3A37.890&endDate=2025-11-13T14%3A40%3A37.890
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T14%3A40%3A37.890&endDate=2025-11-13T14%3A40%3A37.890
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T14%3A40%3A37.890&endDate=2025-11-13T14%3A40%3A37.890
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T14%3A40%3A37.890&endDate=2025-11-13T14%3A40%3A37.890", parameters={masked}
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:40:37 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:40:50 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-11-13 14:40:50 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 14:40:50 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-11-13 14:40:50 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-11-13 14:40:50 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-11-13 14:40:50 [http-nio-8881-exec-5] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 228 ms
2025-11-13 14:40:50 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json]
2025-11-13 14:40:50 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-11-13 14:40:50 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Nov 13 14:40:51 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/f (truncated)...]
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-11-13 14:40:51 [http-nio-8881-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 14:49:27 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 14:49:27 [http-nio-8881-exec-10] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:40815' origin is not allowed
2025-11-13 14:49:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 14:49:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 14:49:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 14:49:41 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 232210 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 14:49:41 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 14:49:41 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 14:49:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 14:49:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 14 JPA repository interfaces.
2025-11-13 14:49:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 14:49:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 14:49:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 14:49:42 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 14:49:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 887 ms
2025-11-13 14:49:42 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 14:49:42 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 14:49:42 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 14:49:42 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 14:49:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 14:49:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1e000a17
2025-11-13 14:49:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 14:49:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 14:49:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 14:49:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 14:49:44 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 14:49:44 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 14:49:44 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 14:49:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 14:49:44 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 14:49:44 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 14:49:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 14:49:45 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 14:49:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 14:49:45 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 3.873 seconds (process running for 4.127)
2025-11-13 14:49:45 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 14:49:45 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 14:49:45 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 14:49:45 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 14:49:45 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 14:49:45 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@72842269
2025-11-13 14:49:45 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6c8e0773
2025-11-13 14:49:45 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 14:49:45 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-13 14:49:45 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 14:49:45 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 14:49:45 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 14:49:45 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 14:49:45 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 14:49:45 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 14:49:46 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 14:49:46 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 14:49:46 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 14:49:46 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 14:49:46 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:49:46 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 14:49:46 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:49:46 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T14%3A49%3A46.429
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T14%3A49%3A46.429
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T14%3A49%3A46.429
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T14%3A49%3A46.429", parameters={masked}
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:49:46 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:50:09 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T14%3A50%3A09.070&endDate=2025-11-13T14%3A50%3A09.070
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T14%3A50%3A09.070&endDate=2025-11-13T14%3A50%3A09.070
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T14%3A50%3A09.070&endDate=2025-11-13T14%3A50%3A09.070
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T14%3A50%3A09.070&endDate=2025-11-13T14%3A50%3A09.070", parameters={masked}
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:50:09 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:50:09 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T14%3A50%3A09.070&endDate=2025-11-13T14%3A50%3A09.070
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T14%3A50%3A09.070&endDate=2025-11-13T14%3A50%3A09.070
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T14%3A50%3A09.070&endDate=2025-11-13T14%3A50%3A09.070
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T14%3A50%3A09.070&endDate=2025-11-13T14%3A50%3A09.070", parameters={masked}
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:50:09 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:50:18 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T14%3A50%3A18.881&endDate=2025-11-13T14%3A50%3A18.881
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T14%3A50%3A18.881&endDate=2025-11-13T14%3A50%3A18.881
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T14%3A50%3A18.881&endDate=2025-11-13T14%3A50%3A18.881
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T14%3A50%3A18.881&endDate=2025-11-13T14%3A50%3A18.881", parameters={masked}
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:50:18 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:50:19 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T14%3A50%3A18.881&endDate=2025-11-13T14%3A50%3A18.881
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T14%3A50%3A18.881&endDate=2025-11-13T14%3A50%3A18.881
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T14%3A50%3A18.881&endDate=2025-11-13T14%3A50%3A18.881
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T14%3A50%3A18.881&endDate=2025-11-13T14%3A50%3A18.881", parameters={masked}
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:50:19 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:50:47 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T14%3A50%3A47.495&endDate=2025-11-13T14%3A50%3A47.495
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T14%3A50%3A47.495&endDate=2025-11-13T14%3A50%3A47.495
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T14%3A50%3A47.495&endDate=2025-11-13T14%3A50%3A47.495
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T14%3A50%3A47.495&endDate=2025-11-13T14%3A50%3A47.495", parameters={masked}
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:50:47 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:50:47 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T14%3A50%3A47.495&endDate=2025-11-13T14%3A50%3A47.495
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T14%3A50%3A47.495&endDate=2025-11-13T14%3A50%3A47.495
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T14%3A50%3A47.495&endDate=2025-11-13T14%3A50%3A47.495
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T14%3A50%3A47.495&endDate=2025-11-13T14%3A50%3A47.495", parameters={masked}
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 14:50:47 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 14:51:12 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 14:51:14 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 14:51:15 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:01:39 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 15:01:39 [http-nio-8881-exec-3] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:43855' origin is not allowed
2025-11-13 15:01:52 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 15:01:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 15:01:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 15:01:54 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 238758 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 15:01:54 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 15:01:54 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 15:01:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 15:01:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 14 JPA repository interfaces.
2025-11-13 15:01:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 15:01:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 15:01:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 15:01:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 15:01:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 861 ms
2025-11-13 15:01:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 15:01:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 15:01:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 15:01:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 15:01:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 15:01:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@498b611e
2025-11-13 15:01:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 15:01:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 15:01:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 15:01:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 15:01:56 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 15:01:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 15:01:57 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 15:01:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 15:01:57 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 15:01:57 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 15:01:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 15:01:57 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 15:01:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 15:01:57 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 3.819 seconds (process running for 4.082)
2025-11-13 15:02:01 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 15:02:01 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 15:02:01 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 15:02:01 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 15:02:01 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 15:02:01 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@72c3bc5e
2025-11-13 15:02:01 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@580cb668
2025-11-13 15:02:01 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 15:02:01 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-13 15:02:01 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 15:02:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:01 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A02%3A01.534
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A02%3A01.534
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A02%3A01.534
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A02%3A01.534", parameters={masked}
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:01 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:20 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A20.449&endDate=2025-11-13T15%3A02%3A20.449
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A20.449&endDate=2025-11-13T15%3A02%3A20.449
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A20.449&endDate=2025-11-13T15%3A02%3A20.449
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A02%3A20.449&endDate=2025-11-13T15%3A02%3A20.449", parameters={masked}
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:20 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:20 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A20.449&endDate=2025-11-13T15%3A02%3A20.449
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A20.449&endDate=2025-11-13T15%3A02%3A20.449
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A20.449&endDate=2025-11-13T15%3A02%3A20.449
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A02%3A20.449&endDate=2025-11-13T15%3A02%3A20.449", parameters={masked}
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:20 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:42 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A42.335&endDate=2025-11-13T15%3A02%3A42.335
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A42.335&endDate=2025-11-13T15%3A02%3A42.335
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A42.335&endDate=2025-11-13T15%3A02%3A42.335
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A02%3A42.335&endDate=2025-11-13T15%3A02%3A42.335", parameters={masked}
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:42 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:42 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A42.335&endDate=2025-11-13T15%3A02%3A42.335
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A42.335&endDate=2025-11-13T15%3A02%3A42.335
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A42.335&endDate=2025-11-13T15%3A02%3A42.335
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A02%3A42.335&endDate=2025-11-13T15%3A02%3A42.335", parameters={masked}
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:42 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:49 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A49.493&endDate=2025-11-13T15%3A02%3A49.493
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A49.493&endDate=2025-11-13T15%3A02%3A49.493
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A49.493&endDate=2025-11-13T15%3A02%3A49.493
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A02%3A49.493&endDate=2025-11-13T15%3A02%3A49.493", parameters={masked}
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:49 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:49 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A49.493&endDate=2025-11-13T15%3A02%3A49.493
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A49.493&endDate=2025-11-13T15%3A02%3A49.493
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A49.493&endDate=2025-11-13T15%3A02%3A49.493
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A02%3A49.493&endDate=2025-11-13T15%3A02%3A49.493", parameters={masked}
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:49 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:54 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A54.061&endDate=2025-11-13T15%3A02%3A54.061
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A54.061&endDate=2025-11-13T15%3A02%3A54.061
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A54.061&endDate=2025-11-13T15%3A02%3A54.061
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A02%3A54.061&endDate=2025-11-13T15%3A02%3A54.061", parameters={masked}
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:54 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:54 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A54.061&endDate=2025-11-13T15%3A02%3A54.061
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A54.061&endDate=2025-11-13T15%3A02%3A54.061
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A54.061&endDate=2025-11-13T15%3A02%3A54.061
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A02%3A54.061&endDate=2025-11-13T15%3A02%3A54.061", parameters={masked}
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:54 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:56 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A56.895&endDate=2025-11-13T15%3A02%3A56.895
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A56.895&endDate=2025-11-13T15%3A02%3A56.895
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A02%3A56.895&endDate=2025-11-13T15%3A02%3A56.895
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A02%3A56.895&endDate=2025-11-13T15%3A02%3A56.895", parameters={masked}
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:56 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:02:57 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A56.895&endDate=2025-11-13T15%3A02%3A56.895
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A56.895&endDate=2025-11-13T15%3A02%3A56.895
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A02%3A56.895&endDate=2025-11-13T15%3A02%3A56.895
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A02%3A56.895&endDate=2025-11-13T15%3A02%3A56.895", parameters={masked}
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:02:57 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:10:08 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 15:10:08 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:10:08 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A10%3A08.736
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A10%3A08.736
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A10%3A08.736
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A10%3A08.736", parameters={masked}
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:10:08 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:10:13 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:10:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:10:27 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:16:39 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 15:16:39 [http-nio-8881-exec-4] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:46725' origin is not allowed
2025-11-13 15:17:57 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 15:17:57 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:17:58 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A17%3A58.116
2025-11-13 15:17:58 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A17%3A58.116
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A17%3A58.116
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A17%3A58.116", parameters={masked}
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:17:58 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:17:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:17 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:18:17 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:17 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:18:17 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:18:20 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:30 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A18%3A30.242&endDate=2025-11-13T15%3A18%3A30.242
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A18%3A30.242&endDate=2025-11-13T15%3A18%3A30.242
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A18%3A30.242&endDate=2025-11-13T15%3A18%3A30.242
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A18%3A30.242&endDate=2025-11-13T15%3A18%3A30.242", parameters={masked}
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:18:30 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:30 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A18%3A30.242&endDate=2025-11-13T15%3A18%3A30.242
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A18%3A30.242&endDate=2025-11-13T15%3A18%3A30.242
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A18%3A30.242&endDate=2025-11-13T15%3A18%3A30.242
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A18%3A30.242&endDate=2025-11-13T15%3A18%3A30.242", parameters={masked}
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:18:30 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:18:31 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:18:31 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:18:33 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:18:33 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:18:39 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:18:39 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:18:43 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/menu
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/menu
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/menu", parameters={}
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#createMenuItem(MenuItemDto, String)
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [MenuItemDto(id=null, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=Ganhs, description=sas, p (truncated)...]
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restaurant.billing.controller.MenuController.createMenuItem(com.restaurant.billing.dto.menu.MenuItemDto,java.lang.String); target is of class [com.restaurant.billing.controller.MenuController]
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.s.a.m.AuthorizationManagerBeforeMethodInterceptor - Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.restaurant.billing.controller.MenuController.createMenuItem(com.restaurant.billing.dto.menu.MenuItemDto,java.lang.String); target is of class [com.restaurant.billing.controller.MenuController]
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.id=?
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.menu_items
        (category_id, created_at, description, device_id, image_path, is_available, is_deleted, is_veg, name, preparation_time, price, synced_at, tenant_id, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [MenuItemDto(id=b46869a8-e672-4b67-935f-34b0704b536e, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4d (truncated)...]
2025-11-13 15:18:55 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 15:18:55 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/sync
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 15:18:55 [http-nio-8881-exec-10] ERROR c.r.billing.service.SyncService - Sync error for item: b46869a8-e672-4b67-935f-34b0704b536e
java.lang.IllegalArgumentException: Unknown entity type: menu_item
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:18:55 [http-nio-8881-exec-10] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:18:55.241092821, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 15:18:55 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:19:02 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:19:02 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:22:02 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A22%3A02.762&endDate=2025-11-13T15%3A22%3A02.762
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A22%3A02.762&endDate=2025-11-13T15%3A22%3A02.762
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A22%3A02.762&endDate=2025-11-13T15%3A22%3A02.762
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A22%3A02.762&endDate=2025-11-13T15%3A22%3A02.762", parameters={masked}
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:22:02 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:22:02 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A22%3A02.762&endDate=2025-11-13T15%3A22%3A02.762
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A22%3A02.762&endDate=2025-11-13T15%3A22%3A02.762
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A22%3A02.762&endDate=2025-11-13T15%3A22%3A02.762
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A22%3A02.762&endDate=2025-11-13T15%3A22%3A02.762", parameters={masked}
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:22:02 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:22:06 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:22:06 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=dine-in, items=[Or (truncated)...]
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:22:12 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.Order$OrderType.valueOf(Order.java:107)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:44)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:22:12.815966708, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in]
2025-11-13 15:22:12 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=dine-in, items=[Or (truncated)...]
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:22:27 [http-nio-8881-exec-2] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.Order$OrderType.valueOf(Order.java:107)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:44)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:22:27.933270817, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in]
2025-11-13 15:22:27 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=dine-in, items=[Or (truncated)...]
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:23:00 [http-nio-8881-exec-3] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.Order$OrderType.valueOf(Order.java:107)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:44)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:23:00.844831473, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in]
2025-11-13 15:23:00 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:23:12 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A23%3A12.472&endDate=2025-11-13T15%3A23%3A12.472
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A23%3A12.472&endDate=2025-11-13T15%3A23%3A12.472
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A23%3A12.472&endDate=2025-11-13T15%3A23%3A12.472
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A23%3A12.472&endDate=2025-11-13T15%3A23%3A12.472", parameters={masked}
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:23:12 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:23:12 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A23%3A12.472&endDate=2025-11-13T15%3A23%3A12.472
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A23%3A12.472&endDate=2025-11-13T15%3A23%3A12.472
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A23%3A12.472&endDate=2025-11-13T15%3A23%3A12.472
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A23%3A12.472&endDate=2025-11-13T15%3A23%3A12.472", parameters={masked}
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:23:12 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:23:19 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:23:19 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=dine-in, items=[Or (truncated)...]
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:23:27 [http-nio-8881-exec-10] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.Order$OrderType.valueOf(Order.java:107)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:44)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:23:27.805061499, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in]
2025-11-13 15:23:27 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=dine-in, items=[Or (truncated)...]
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:27:09 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.Order$OrderType.valueOf(Order.java:107)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:44)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:27:09.153000099, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in]
2025-11-13 15:27:09 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=dine-in, items=[Or (truncated)...]
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:27:16 [http-nio-8881-exec-2] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.Order$OrderType.valueOf(Order.java:107)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:44)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:27:16.246043746, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.Order.OrderType.dine-in]
2025-11-13 15:27:16 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:31:11 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 15:31:11 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:31:12 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A31%3A11.779
2025-11-13 15:31:12 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A31%3A11.779
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A31%3A11.779
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A31%3A11.779", parameters={masked}
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:31:12 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:31:12 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:31:14 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:31:14 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:31:15 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:31:15 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:31:18 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:31:18 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:31:22 [http-nio-8881-exec-6] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:70)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:31:22.240818338, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 15:31:22 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:31:29 [http-nio-8881-exec-5] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:70)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:31:29.074292944, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 15:31:29 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:31:33 [http-nio-8881-exec-7] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:70)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:31:33.667875980, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 15:31:33 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:31:47 [http-nio-8881-exec-8] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:70)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:31:47.026847320, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 15:31:47 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:35:51 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 15:35:51 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:35:51 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A35%3A51.292
2025-11-13 15:35:51 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A35%3A51.292
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A35%3A51.292
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T15%3A35%3A51.292", parameters={masked}
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:35:51 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:35:51 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:35:53 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:35:53 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:35:53 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:35:53 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:36:03 [http-nio-8881-exec-9] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:70)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:36:03.231423872, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 15:36:03 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:36:07 [http-nio-8881-exec-10] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:70)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:36:07.948029896, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 15:36:07 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:36:29 [http-nio-8881-exec-2] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T09:23:24Z. Current time: 2025-11-13T10:06:29Z, a difference of 2585123 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /error
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /error
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for POST "/error", parameters={}
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Nov 13 15:36:29 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/a (truncated)...]
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-11-13 15:36:29 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 15:36:41 [http-nio-8881-exec-4] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T09:23:24Z. Current time: 2025-11-13T10:06:41Z, a difference of 2597900 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 15:36:41 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=d3afa9f4-9cff-d9cf-98bf-2c6f18c60273, customerName=string, customerPhone= (truncated)...]
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.created_at,
        rt1_0.is_active,
        rt1_0.qr_code_path,
        rt1_0.seating_capacity,
        rt1_0.status,
        rt1_0.table_number,
        rt1_0.tenant_id,
        rt1_0.updated_at 
    from
        public.restaurant_tables rt1_0 
    where
        rt1_0.id=?
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:36:54.805209686, status=404, error=Not Found, message=Table no (truncated)...]
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.restaurant.billing.exception.ResourceNotFoundException: Table not found]
2025-11-13 15:36:54 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=d3afa9f4-9cff-d9cf-98bf-2c6f18c60273, customerName=string, customerPhone= (truncated)...]
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.created_at,
        rt1_0.is_active,
        rt1_0.qr_code_path,
        rt1_0.seating_capacity,
        rt1_0.status,
        rt1_0.table_number,
        rt1_0.tenant_id,
        rt1_0.updated_at 
    from
        public.restaurant_tables rt1_0 
    where
        rt1_0.id=?
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleResourceNotFound(ResourceNotFoundException)
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:37:14.907996661, status=404, error=Not Found, message=Table no (truncated)...]
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.restaurant.billing.exception.ResourceNotFoundException: Table not found]
2025-11-13 15:37:14 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-11-13 15:38:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 15:38:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 15:38:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 15:38:06 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 260722 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 15:38:06 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 15:38:06 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 15:38:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 15:38:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 14 JPA repository interfaces.
2025-11-13 15:38:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 15:38:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 15:38:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 15:38:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 15:38:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1123 ms
2025-11-13 15:38:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 15:38:07 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 15:38:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 15:38:08 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 15:38:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 15:38:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5b715ea
2025-11-13 15:38:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 15:38:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 15:38:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 15:38:09 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 15:38:09 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 15:38:09 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 15:38:10 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 15:38:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 15:38:10 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 15:38:10 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 15:38:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 15:38:11 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 15:38:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 15:38:11 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 5.116 seconds (process running for 5.599)
2025-11-13 15:38:13 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 15:38:13 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@11eeaf31
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6bd87866
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 15:38:13 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:38:13 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 15:38:25 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:38:50 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:39:35 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 15:39:35 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:70)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 15:39:35 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:39:35 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T15:39:35.162511683, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 15:39:35 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.DisconnectedClient - Looks like the client has gone away: org.apache.catalina.connector.ClientAbortException: java.nio.channels.ClosedChannelException (For a full stack trace, set the log category 'org.apache.commons.logging.LogAdapter$Slf4jLocationAwareLog@656ea92d' to TRACE level.)
2025-11-13 15:39:35 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 15:39:35 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 15:39:35 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 15:39:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 15:39:35 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 15:39:38 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 261807 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 15:39:38 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 15:39:38 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 15:39:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 15:39:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 14 JPA repository interfaces.
2025-11-13 15:39:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 15:39:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 15:39:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 15:39:39 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 15:39:39 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 892 ms
2025-11-13 15:39:39 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 15:39:39 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 15:39:39 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 15:39:39 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 15:39:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 15:39:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2ac9e53c
2025-11-13 15:39:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 15:39:39 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 15:39:40 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 15:39:40 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 15:39:40 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 15:39:40 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 15:39:41 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 15:39:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 15:39:41 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 15:39:41 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 15:39:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 15:39:41 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 15:39:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 15:39:41 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 3.883 seconds (process running for 4.128)
2025-11-13 15:39:46 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 15:39:46 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3c23d6cf
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@997a59f
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 15:39:46 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, tableN (truncated)...]
2025-11-13 15:39:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:40:06 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:40:06 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:40:07 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A40%3A07.224&endDate=2025-11-13T15%3A40%3A07.224
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A40%3A07.224&endDate=2025-11-13T15%3A40%3A07.224
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A40%3A07.224&endDate=2025-11-13T15%3A40%3A07.224
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A40%3A07.224&endDate=2025-11-13T15%3A40%3A07.224", parameters={masked}
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:40:07 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:40:07 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A40%3A07.224&endDate=2025-11-13T15%3A40%3A07.224
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A40%3A07.224&endDate=2025-11-13T15%3A40%3A07.224
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A40%3A07.224&endDate=2025-11-13T15%3A40%3A07.224
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A40%3A07.224&endDate=2025-11-13T15%3A40%3A07.224", parameters={masked}
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=1, totalRevenue=1738.76, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 15:40:07 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:40:10 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:40:10 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:40:22 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:40:22 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:40:23 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A40%3A23.362&endDate=2025-11-13T15%3A40%3A23.362
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A40%3A23.362&endDate=2025-11-13T15%3A40%3A23.362
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A40%3A23.362&endDate=2025-11-13T15%3A40%3A23.362
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A40%3A23.362&endDate=2025-11-13T15%3A40%3A23.362", parameters={masked}
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:40:23 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:40:23 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A40%3A23.362&endDate=2025-11-13T15%3A40%3A23.362
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A40%3A23.362&endDate=2025-11-13T15%3A40%3A23.362
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A40%3A23.362&endDate=2025-11-13T15%3A40%3A23.362
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A40%3A23.362&endDate=2025-11-13T15%3A40%3A23.362", parameters={masked}
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=1, totalRevenue=1738.76, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 15:40:23 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:41:49 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:41:49 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:41:52 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:41:57 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T15%3A41%3A57.210&endDate=2025-11-13T15%3A41%3A57.210
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T15%3A41%3A57.210&endDate=2025-11-13T15%3A41%3A57.210
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T15%3A41%3A57.210&endDate=2025-11-13T15%3A41%3A57.210
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T15%3A41%3A57.210&endDate=2025-11-13T15%3A41%3A57.210", parameters={masked}
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 15:41:57 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:41:57 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T15%3A41%3A57.210&endDate=2025-11-13T15%3A41%3A57.210
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T15%3A41%3A57.210&endDate=2025-11-13T15%3A41%3A57.210
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T15%3A41%3A57.210&endDate=2025-11-13T15%3A41%3A57.210
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T15%3A41%3A57.210&endDate=2025-11-13T15%3A41%3A57.210", parameters={masked}
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=1, totalRevenue=1738.76, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 15:41:57 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 15:42:01 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 15:42:01 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=fd9fb601-8888-4a3b-b52a-c0cf605fa5ef, orderNumber=ORD1763028734820, tableId=null, tableN (truncated)...]
2025-11-13 15:42:14 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:01:58 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 16:01:58 [http-nio-8881-exec-9] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T10:16:11Z. Current time: 2025-11-13T10:31:58Z, a difference of 947502 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 16:01:58 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:01:58 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A01%3A58.757
2025-11-13 16:01:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A01%3A58.757
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A01%3A58.757
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A01%3A58.757", parameters={masked}
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:01:58 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:01:58 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:02:00 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:04 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A02%3A04.438&endDate=2025-11-13T16%3A02%3A04.438
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A02%3A04.438&endDate=2025-11-13T16%3A02%3A04.438
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A02%3A04.438&endDate=2025-11-13T16%3A02%3A04.438
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A02%3A04.438&endDate=2025-11-13T16%3A02%3A04.438", parameters={masked}
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:02:04 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:04 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A02%3A04.438&endDate=2025-11-13T16%3A02%3A04.438
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A02%3A04.438&endDate=2025-11-13T16%3A02%3A04.438
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A02%3A04.438&endDate=2025-11-13T16%3A02%3A04.438
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A02%3A04.438&endDate=2025-11-13T16%3A02%3A04.438", parameters={masked}
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=2, totalRevenue=3477.52, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:02:04 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:07 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A07.845
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A07.845
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A07.845
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A07.845", parameters={masked}
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:02:07 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:09 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A02%3A09.085&endDate=2025-11-13T16%3A02%3A09.085
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A02%3A09.085&endDate=2025-11-13T16%3A02%3A09.085
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A02%3A09.085&endDate=2025-11-13T16%3A02%3A09.085
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A02%3A09.085&endDate=2025-11-13T16%3A02%3A09.085", parameters={masked}
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:02:09 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:09 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A02%3A09.085&endDate=2025-11-13T16%3A02%3A09.085
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A02%3A09.085&endDate=2025-11-13T16%3A02%3A09.085
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A02%3A09.085&endDate=2025-11-13T16%3A02%3A09.085
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A02%3A09.085&endDate=2025-11-13T16%3A02%3A09.085", parameters={masked}
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=2, totalRevenue=3477.52, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:02:09 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:09 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A09.861
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A09.861
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A09.861
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A09.861", parameters={masked}
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:02:09 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:10 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A10.389
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A10.389
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A10.389
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A10.389", parameters={masked}
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:02:10 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:10 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A10.861
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A10.861
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A10.861
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A02%3A10.861", parameters={masked}
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:02:10 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:02:13 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:25 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:02:25 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:25 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 16:02:25 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG c.r.billing.service.CategoryService - Found 1 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=8e080396-f804-4474-9aa0-bcbe91d39b4d, name=string, displayOrder=643)]]
2025-11-13 16:02:30 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:42 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/categories
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/categories
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/categories", parameters={}
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#createCategory(CreateCategoryRequest, UserDetails)
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateCategoryRequest(name=Dosa, displayOrder=1)]
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:42 [http-nio-8881-exec-8] INFO  c.r.billing.service.CategoryService - Created category da85453e-dd3b-4cd6-9a12-8a06624e962b for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.categories
        (created_at, display_order, is_active, name, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1)]
2025-11-13 16:02:42 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:02:42 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/sync
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 16:02:42 [http-nio-8881-exec-1] ERROR c.r.billing.service.SyncService - Sync error for item: da85453e-dd3b-4cd6-9a12-8a06624e962b
java.lang.IllegalArgumentException: Unknown entity type: category
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 16:02:42 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T16:02:42.945036893, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 16:02:42 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:02:49 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:02:59 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:02:59 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=d4d0be59-8a5a-4ec5-a37b-e76aaeaf5eb4, orderNumber=ORD1763029982733, tableId=null, tableN (truncated)...]
2025-11-13 16:03:02 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=eadc0ad8-49c2-4b9c-a4f2-066842cbe2a6, orderNumber=ORD1763029986824, tableId=null, tableN (truncated)...]
2025-11-13 16:03:06 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:03:12 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:03:12 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:03:16 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:03:17 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:03:17 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:18 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A18.274&endDate=2025-11-13T16%3A03%3A18.274
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A18.274&endDate=2025-11-13T16%3A03%3A18.274
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A18.274&endDate=2025-11-13T16%3A03%3A18.274
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A03%3A18.274&endDate=2025-11-13T16%3A03%3A18.274", parameters={masked}
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:03:18 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:18 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A18.274&endDate=2025-11-13T16%3A03%3A18.274
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A18.274&endDate=2025-11-13T16%3A03%3A18.274
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A18.274&endDate=2025-11-13T16%3A03%3A18.274
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A03%3A18.274&endDate=2025-11-13T16%3A03%3A18.274", parameters={masked}
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=4, totalRevenue=6955.04, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:03:18 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:23 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A23.474&endDate=2025-11-13T16%3A03%3A23.474
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A23.474&endDate=2025-11-13T16%3A03%3A23.474
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A23.474&endDate=2025-11-13T16%3A03%3A23.474
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A03%3A23.474&endDate=2025-11-13T16%3A03%3A23.474", parameters={masked}
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:03:23 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:23 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A23.474&endDate=2025-11-13T16%3A03%3A23.474
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A23.474&endDate=2025-11-13T16%3A03%3A23.474
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A23.474&endDate=2025-11-13T16%3A03%3A23.474
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A03%3A23.474&endDate=2025-11-13T16%3A03%3A23.474", parameters={masked}
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=4, totalRevenue=6955.04, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:03:23 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:24 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A03%3A24.230
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A03%3A24.230
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A03%3A24.230
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A03%3A24.230", parameters={masked}
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:03:24 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:24 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A24.766&endDate=2025-11-13T16%3A03%3A24.766
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A24.766&endDate=2025-11-13T16%3A03%3A24.766
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A24.766&endDate=2025-11-13T16%3A03%3A24.766
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A03%3A24.766&endDate=2025-11-13T16%3A03%3A24.766", parameters={masked}
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:03:24 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:24 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A24.766&endDate=2025-11-13T16%3A03%3A24.766
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A24.766&endDate=2025-11-13T16%3A03%3A24.766
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A24.766&endDate=2025-11-13T16%3A03%3A24.766
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A03%3A24.766&endDate=2025-11-13T16%3A03%3A24.766", parameters={masked}
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=4, totalRevenue=6955.04, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:03:24 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:03:35 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:03:35 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=08fb656b-461c-4c88-86c5-60c14edee5a4, orderNumber=ORD1763030018543, tableId=null, tableN (truncated)...]
2025-11-13 16:03:38 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:03:43 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A43.402&endDate=2025-11-13T16%3A03%3A43.402
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A43.402&endDate=2025-11-13T16%3A03%3A43.402
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A03%3A43.402&endDate=2025-11-13T16%3A03%3A43.402
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A03%3A43.402&endDate=2025-11-13T16%3A03%3A43.402", parameters={masked}
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:03:43 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:43 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A43.402&endDate=2025-11-13T16%3A03%3A43.402
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A43.402&endDate=2025-11-13T16%3A03%3A43.402
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A03%3A43.402&endDate=2025-11-13T16%3A03%3A43.402
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A03%3A43.402&endDate=2025-11-13T16%3A03%3A43.402", parameters={masked}
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=4, totalRevenue=6955.04, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:03:43 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:48 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A03%3A48.854
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A03%3A48.854
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A03%3A48.854
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A03%3A48.854", parameters={masked}
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:03:48 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:03:50 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:04:02 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:05:11 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:05:11 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:05:17 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:05:17 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:05:24 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:05:25 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:05:25 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:05:51 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A05%3A51.294&endDate=2025-11-13T16%3A05%3A51.294
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A05%3A51.294&endDate=2025-11-13T16%3A05%3A51.294
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A05%3A51.294&endDate=2025-11-13T16%3A05%3A51.294
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A05%3A51.294&endDate=2025-11-13T16%3A05%3A51.294", parameters={masked}
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:05:51 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:05:51 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A05%3A51.294&endDate=2025-11-13T16%3A05%3A51.294
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A05%3A51.294&endDate=2025-11-13T16%3A05%3A51.294
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A05%3A51.294&endDate=2025-11-13T16%3A05%3A51.294
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A05%3A51.294&endDate=2025-11-13T16%3A05%3A51.294", parameters={masked}
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=4, totalRevenue=6955.04, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:05:51 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:06:18 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A06%3A17.928
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A06%3A17.928
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A06%3A17.928
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A06%3A17.928", parameters={masked}
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:06:18 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:06:18 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A06%3A18.190
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A06%3A18.190
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A06%3A18.190
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A06%3A18.190", parameters={masked}
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:06:18 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:06:27 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:06:27 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:06:27 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:06:29 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:06:29 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=c067f5a5-7f8e-4f6c-abd2-06512a761979, orderNumber=ORD1763030193605, tableId=null, tableN (truncated)...]
2025-11-13 16:06:33 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:27:42 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 16:27:42 [http-nio-8881-exec-9] DEBUG o.s.web.cors.DefaultCorsProcessor - Reject: 'http://localhost:36443' origin is not allowed
2025-11-13 16:28:49 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 16:28:49 [http-nio-8881-exec-3] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T10:46:58Z. Current time: 2025-11-13T10:58:49Z, a difference of 711336 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 16:28:49 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:28:49 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A28%3A49.584
2025-11-13 16:28:49 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A28%3A49.584
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A28%3A49.584
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A28%3A49.584", parameters={masked}
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:28:49 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:28:49 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:28:51 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:29:03 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:10 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 16:29:10 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:29:11 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:11 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:29:11 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:29:11 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:29:11 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:11 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:29:11 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:11 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:29:11 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:11 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:29:11 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:29:18 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:29:18 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=4265db84-086e-4903-9737-00ddd0813e1a, orderNumber=ORD1763031562965, tableId=null, tableN (truncated)...]
2025-11-13 16:29:22 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:29:45 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A29%3A45.847&endDate=2025-11-13T16%3A29%3A45.847
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A29%3A45.847&endDate=2025-11-13T16%3A29%3A45.847
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A29%3A45.847&endDate=2025-11-13T16%3A29%3A45.847
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A29%3A45.847&endDate=2025-11-13T16%3A29%3A45.847", parameters={masked}
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:29:45 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:46 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A29%3A45.847&endDate=2025-11-13T16%3A29%3A45.847
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A29%3A45.847&endDate=2025-11-13T16%3A29%3A45.847
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A29%3A45.847&endDate=2025-11-13T16%3A29%3A45.847
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A29%3A45.847&endDate=2025-11-13T16%3A29%3A45.847", parameters={masked}
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=5, totalRevenue=8693.80, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:29:46 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:47 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A29%3A47.748
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A29%3A47.748
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A29%3A47.748
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A29%3A47.748", parameters={masked}
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:29:47 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:48 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A29%3A48.731&endDate=2025-11-13T16%3A29%3A48.731
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A29%3A48.731&endDate=2025-11-13T16%3A29%3A48.731
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A29%3A48.731&endDate=2025-11-13T16%3A29%3A48.731
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A29%3A48.731&endDate=2025-11-13T16%3A29%3A48.731", parameters={masked}
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:29:48 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:48 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A29%3A48.731&endDate=2025-11-13T16%3A29%3A48.731
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A29%3A48.731&endDate=2025-11-13T16%3A29%3A48.731
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A29%3A48.731&endDate=2025-11-13T16%3A29%3A48.731
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A29%3A48.731&endDate=2025-11-13T16%3A29%3A48.731", parameters={masked}
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=5, totalRevenue=8693.80, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:29:48 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:49 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A29%3A49.876
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A29%3A49.876
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A29%3A49.876
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A29%3A49.876", parameters={masked}
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:29:49 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:29:53 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:30:26 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A30%3A26.490&endDate=2025-11-13T16%3A30%3A26.490
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A30%3A26.490&endDate=2025-11-13T16%3A30%3A26.490
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A30%3A26.490&endDate=2025-11-13T16%3A30%3A26.490
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A30%3A26.490&endDate=2025-11-13T16%3A30%3A26.490", parameters={masked}
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:30:26 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:30:26 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A30%3A26.490&endDate=2025-11-13T16%3A30%3A26.490
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A30%3A26.490&endDate=2025-11-13T16%3A30%3A26.490
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A30%3A26.490&endDate=2025-11-13T16%3A30%3A26.490
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A30%3A26.490&endDate=2025-11-13T16%3A30%3A26.490", parameters={masked}
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=5, totalRevenue=8693.80, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239cc (truncated)...]
2025-11-13 16:30:26 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:30:33 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:30:39 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:35:26 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 16:35:26 [http-nio-8881-exec-8] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T10:46:58Z. Current time: 2025-11-13T11:05:26Z, a difference of 1108453 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 16:35:26 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:35:26 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A35%3A26.697
2025-11-13 16:35:26 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A35%3A26.697
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A35%3A26.697
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A35%3A26.697", parameters={masked}
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:26 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:35:26 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:35:28 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:35:46 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:35:50 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:35:50 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:35:50 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:35:50 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DELIVERY, items=[O (truncated)...]
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=75b3f790-602d-4990-86ec-af001fd5f639, orderNumber=ORD1763031958023, tableId=null, tableN (truncated)...]
2025-11-13 16:35:58 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:35:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/sync
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 16:35:58 [http-nio-8881-exec-10] ERROR c.r.billing.service.SyncService - Sync error for item: 75b3f790-602d-4990-86ec-af001fd5f639
java.lang.IllegalArgumentException: Unknown entity type: order
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 16:35:58 [http-nio-8881-exec-10] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T16:35:58.068821860, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 16:35:58 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 16:37:16 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 16:37:16 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:17 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A17.214
2025-11-13 16:37:17 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A17.214
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A17.214
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A17.214", parameters={masked}
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:17 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:37:17 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:37:18 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:20 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:37:20 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:20 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:37:20 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:37:21 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:34 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A37%3A34.558&endDate=2025-11-13T16%3A37%3A34.558
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A37%3A34.558&endDate=2025-11-13T16%3A37%3A34.558
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A37%3A34.558&endDate=2025-11-13T16%3A37%3A34.558
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A37%3A34.558&endDate=2025-11-13T16%3A37%3A34.558", parameters={masked}
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:37:34 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:34 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A37%3A34.558&endDate=2025-11-13T16%3A37%3A34.558
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A37%3A34.558&endDate=2025-11-13T16%3A37%3A34.558
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A37%3A34.558&endDate=2025-11-13T16%3A37%3A34.558
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A37%3A34.558&endDate=2025-11-13T16%3A37%3A34.558", parameters={masked}
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=6, totalRevenue=10432.56, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239c (truncated)...]
2025-11-13 16:37:34 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:38 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A38.461
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A38.461
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A38.461
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A38.461", parameters={masked}
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:37:38 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:39 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A37%3A39.284&endDate=2025-11-13T16%3A37%3A39.284
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A37%3A39.284&endDate=2025-11-13T16%3A37%3A39.284
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A37%3A39.284&endDate=2025-11-13T16%3A37%3A39.284
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A37%3A39.284&endDate=2025-11-13T16%3A37%3A39.284", parameters={masked}
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:37:39 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:39 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A37%3A39.284&endDate=2025-11-13T16%3A37%3A39.284
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A37%3A39.284&endDate=2025-11-13T16%3A37%3A39.284
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A37%3A39.284&endDate=2025-11-13T16%3A37%3A39.284
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A37%3A39.284&endDate=2025-11-13T16%3A37%3A39.284", parameters={masked}
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=6, totalRevenue=10432.56, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239c (truncated)...]
2025-11-13 16:37:39 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:39 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A39.772
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A39.772
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A39.772
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T16%3A37%3A39.772", parameters={masked}
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:37:39 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:42 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A37%3A41.976&endDate=2025-11-13T16%3A37%3A41.976
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A37%3A41.976&endDate=2025-11-13T16%3A37%3A41.976
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A37%3A41.976&endDate=2025-11-13T16%3A37%3A41.976
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A37%3A41.976&endDate=2025-11-13T16%3A37%3A41.976", parameters={masked}
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:37:42 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:42 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A37%3A41.976&endDate=2025-11-13T16%3A37%3A41.976
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A37%3A41.976&endDate=2025-11-13T16%3A37%3A41.976
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A37%3A41.976&endDate=2025-11-13T16%3A37%3A41.976
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A37%3A41.976&endDate=2025-11-13T16%3A37%3A41.976", parameters={masked}
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=6, totalRevenue=10432.56, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239c (truncated)...]
2025-11-13 16:37:42 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:37:44 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:37:48 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:37:52 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:37:52 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=907b975a-d4d1-4b2f-adab-31ad0fd43463, orderNumber=ORD1763032075646, tableId=null, tableN (truncated)...]
2025-11-13 16:37:55 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:37:55 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/sync
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 16:37:55 [http-nio-8881-exec-7] ERROR c.r.billing.service.SyncService - Sync error for item: 907b975a-d4d1-4b2f-adab-31ad0fd43463
java.lang.IllegalArgumentException: Unknown entity type: order
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 16:37:55 [http-nio-8881-exec-7] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T16:37:55.680419791, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 16:37:55 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=TAKEAWAY, items=[O (truncated)...]
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=bc70aa5b-3b09-4313-8c56-ee2789931a91, orderNumber=ORD1763032107393, tableId=null, tableN (truncated)...]
2025-11-13 16:38:27 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 16:38:27 [http-nio-8881-exec-1] ERROR c.r.billing.service.SyncService - Sync error for item: 907b975a-d4d1-4b2f-adab-31ad0fd43463
java.lang.IllegalArgumentException: Unknown entity type: order
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 16:38:27 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T16:38:27.422723330, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 16:38:27 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 16:38:38 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A38%3A38.115&endDate=2025-11-13T16%3A38%3A38.115
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A38%3A38.115&endDate=2025-11-13T16%3A38%3A38.115
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A38%3A38.115&endDate=2025-11-13T16%3A38%3A38.115
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A38%3A38.115&endDate=2025-11-13T16%3A38%3A38.115", parameters={masked}
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:38:38 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:38:38 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A38%3A38.115&endDate=2025-11-13T16%3A38%3A38.115
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A38%3A38.115&endDate=2025-11-13T16%3A38%3A38.115
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A38%3A38.115&endDate=2025-11-13T16%3A38%3A38.115
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A38%3A38.115&endDate=2025-11-13T16%3A38%3A38.115", parameters={masked}
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=8, totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239c (truncated)...]
2025-11-13 16:38:38 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:38:40 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A38%3A39.974
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A38%3A39.974
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A38%3A39.974
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A38%3A39.974", parameters={masked}
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:38:40 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:38:40 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A38%3A40.797&endDate=2025-11-13T16%3A38%3A40.797
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A38%3A40.797&endDate=2025-11-13T16%3A38%3A40.797
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A38%3A40.797&endDate=2025-11-13T16%3A38%3A40.797
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A38%3A40.797&endDate=2025-11-13T16%3A38%3A40.797", parameters={masked}
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:38:40 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:38:40 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A38%3A40.797&endDate=2025-11-13T16%3A38%3A40.797
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A38%3A40.797&endDate=2025-11-13T16%3A38%3A40.797
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A38%3A40.797&endDate=2025-11-13T16%3A38%3A40.797
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A38%3A40.797&endDate=2025-11-13T16%3A38%3A40.797", parameters={masked}
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=8, totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239c (truncated)...]
2025-11-13 16:38:40 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:41:33 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A41%3A33.379
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A41%3A33.379
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A41%3A33.379
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A41%3A33.379", parameters={masked}
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:41:33 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:41:39 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A41%3A39.387&endDate=2025-11-13T16%3A41%3A39.387
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A41%3A39.387&endDate=2025-11-13T16%3A41%3A39.387
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A41%3A39.387&endDate=2025-11-13T16%3A41%3A39.387
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A41%3A39.387&endDate=2025-11-13T16%3A41%3A39.387", parameters={masked}
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:41:39 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:41:39 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A41%3A39.387&endDate=2025-11-13T16%3A41%3A39.387
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A41%3A39.387&endDate=2025-11-13T16%3A41%3A39.387
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A41%3A39.387&endDate=2025-11-13T16%3A41%3A39.387
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A41%3A39.387&endDate=2025-11-13T16%3A41%3A39.387", parameters={masked}
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=8, totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239c (truncated)...]
2025-11-13 16:41:39 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:41:41 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A41%3A41.347
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A41%3A41.347
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A41%3A41.347
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A41%3A41.347", parameters={masked}
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:41:41 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:41:42 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A41%3A42.115&endDate=2025-11-13T16%3A41%3A42.115
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A41%3A42.115&endDate=2025-11-13T16%3A41%3A42.115
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A41%3A42.115&endDate=2025-11-13T16%3A41%3A42.115
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A41%3A42.115&endDate=2025-11-13T16%3A41%3A42.115", parameters={masked}
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:41:42 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:41:42 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A41%3A42.115&endDate=2025-11-13T16%3A41%3A42.115
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A41%3A42.115&endDate=2025-11-13T16%3A41%3A42.115
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A41%3A42.115&endDate=2025-11-13T16%3A41%3A42.115
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A41%3A42.115&endDate=2025-11-13T16%3A41%3A42.115", parameters={masked}
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, totalQuantity=8, totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239c (truncated)...]
2025-11-13 16:41:42 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2009-06-10T12:44:02.333Z&endDate=2009-06-10T12:44:02.333Z
2025-11-13 16:45:41 [http-nio-8881-exec-5] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T10:21:41Z. Current time: 2025-11-13T11:15:41Z, a difference of 3240099 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error?startDate=2009-06-10T12:44:02.333Z&endDate=2009-06-10T12:44:02.333Z
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error?startDate=2009-06-10T12:44:02.333Z&endDate=2009-06-10T12:44:02.333Z
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error?startDate=2009-06-10T12:44:02.333Z&endDate=2009-06-10T12:44:02.333Z", parameters={masked}
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Nov 13 16:45:41 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/a (truncated)...]
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-11-13 16:45:41 [http-nio-8881-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 16:45:47 [http-nio-8881-exec-7] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T10:21:41Z. Current time: 2025-11-13T11:15:47Z, a difference of 3246042 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 16:45:47 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2009-06-10T12:44:02.333Z&endDate=2009-06-10T12:44:02.333Z
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2009-06-10T12:44:02.333Z&endDate=2009-06-10T12:44:02.333Z
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2009-06-10T12:44:02.333Z&endDate=2009-06-10T12:44:02.333Z", parameters={masked}
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:46:01 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:48:57 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 16:48:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 16:48:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 16:58:35 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 300742 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 16:58:35 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 16:58:35 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 16:58:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 16:58:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 14 JPA repository interfaces.
2025-11-13 16:58:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 16:58:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 16:58:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 16:58:36 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 16:58:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1236 ms
2025-11-13 16:58:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 16:58:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 16:58:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 16:58:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 16:58:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 16:58:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@498b611e
2025-11-13 16:58:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 16:58:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 16:58:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 16:58:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 16:58:38 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 16:58:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 16:58:39 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 16:58:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 16:58:39 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 16:58:39 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 16:58:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 16:58:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 16:58:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 16:58:39 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 4.656 seconds (process running for 4.973)
2025-11-13 16:59:18 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 16:59:18 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 16:59:18 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 16:59:18 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 16:59:18 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 16:59:18 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@72c3bc5e
2025-11-13 16:59:18 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@580cb668
2025-11-13 16:59:18 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 16:59:18 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-13 16:59:18 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 16:59:18 [http-nio-8881-exec-2] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T11:20:26Z. Current time: 2025-11-13T11:29:18Z, a difference of 532271 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 16:59:18 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:18 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A18.643
2025-11-13 16:59:18 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A18.643
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A18.643
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A18.643", parameters={masked}
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:59:18 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:59:18 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:18 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A18.643
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A18.643
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A18.643
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A18.643", parameters={masked}
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 16:59:18 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 16:59:23 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:26 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:59:26 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:26 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:59:26 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:28 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A59%3A28.144&endDate=2025-11-13T16%3A59%3A28.144
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A59%3A28.144&endDate=2025-11-13T16%3A59%3A28.144
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A59%3A28.144&endDate=2025-11-13T16%3A59%3A28.144
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A59%3A28.144&endDate=2025-11-13T16%3A59%3A28.144", parameters={masked}
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:59:28 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:28 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A59%3A28.144&endDate=2025-11-13T16%3A59%3A28.144
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A59%3A28.144&endDate=2025-11-13T16%3A59%3A28.144
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A59%3A28.144&endDate=2025-11-13T16%3A59%3A28.144
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A59%3A28.144&endDate=2025-11-13T16%3A59%3A28.144", parameters={masked}
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 16:59:28 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:31 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A31.219
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A31.219
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A31.219
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A31.219", parameters={masked}
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:59:31 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:31 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A31.219
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A31.219
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A31.219
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A31.219", parameters={masked}
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 16:59:31 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:35 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T16%3A59%3A35.070&endDate=2025-11-13T16%3A59%3A35.070
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T16%3A59%3A35.070&endDate=2025-11-13T16%3A59%3A35.070
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T16%3A59%3A35.070&endDate=2025-11-13T16%3A59%3A35.070
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T16%3A59%3A35.070&endDate=2025-11-13T16%3A59%3A35.070", parameters={masked}
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:59:35 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:35 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T16%3A59%3A35.070&endDate=2025-11-13T16%3A59%3A35.070
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T16%3A59%3A35.070&endDate=2025-11-13T16%3A59%3A35.070
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T16%3A59%3A35.070&endDate=2025-11-13T16%3A59%3A35.070
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T16%3A59%3A35.070&endDate=2025-11-13T16%3A59%3A35.070", parameters={masked}
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 16:59:35 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:40 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A40.115
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A40.115
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A40.115
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A40.115", parameters={masked}
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 16:59:40 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:40 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A40.115
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A40.115
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A40.115
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T16%3A59%3A40.115", parameters={masked}
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 16:59:40 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 16:59:44 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 16:59:44 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 16:59:49 [http-nio-8881-exec-2] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T16:59:49.913470824, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 16:59:49 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 16:59:52 [http-nio-8881-exec-3] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T16:59:52.929823478, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 16:59:52 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 16:59:56 [http-nio-8881-exec-4] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T16:59:56.275505114, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 16:59:56 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 16:59:58 [http-nio-8881-exec-5] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T16:59:58.850147394, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 16:59:58 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:00:04 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:00:11 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:00:11 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DELIVERY, items=[O (truncated)...]
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:00:15 [http-nio-8881-exec-9] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:00:15.450267349, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 17:00:15 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DELIVERY, items=[O (truncated)...]
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:00:17 [http-nio-8881-exec-10] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:00:17.112306552, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 17:00:17 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DELIVERY, items=[O (truncated)...]
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:00:26 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:00:26.216130923, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 17:00:26 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DELIVERY, items=[O (truncated)...]
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:00:28 [http-nio-8881-exec-2] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:28 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:00:28.999758264, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:00:29 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 17:00:29 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DELIVERY, items=[O (truncated)...]
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:00:30 [http-nio-8881-exec-3] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:00:30.125430375, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 17:00:30 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DELIVERY, items=[O (truncated)...]
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:00:41 [http-nio-8881-exec-4] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:00:41.460139080, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 17:00:41 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:00:47 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A00%3A47.762&endDate=2025-11-13T17%3A00%3A47.762
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A00%3A47.762&endDate=2025-11-13T17%3A00%3A47.762
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A00%3A47.762&endDate=2025-11-13T17%3A00%3A47.762
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A00%3A47.762&endDate=2025-11-13T17%3A00%3A47.762", parameters={masked}
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:00:47 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:47 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A00%3A47.762&endDate=2025-11-13T17%3A00%3A47.762
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A00%3A47.762&endDate=2025-11-13T17%3A00%3A47.762
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A00%3A47.762&endDate=2025-11-13T17%3A00%3A47.762
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A00%3A47.762&endDate=2025-11-13T17%3A00%3A47.762", parameters={masked}
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:00:47 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:50 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A50.293
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A50.293
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A50.293
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A50.293", parameters={masked}
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:00:50 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:50 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A50.293
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A50.293
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A50.293
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A50.293", parameters={masked}
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:00:50 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:51 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A00%3A51.837&endDate=2025-11-13T17%3A00%3A51.837
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A00%3A51.837&endDate=2025-11-13T17%3A00%3A51.837
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A00%3A51.837&endDate=2025-11-13T17%3A00%3A51.837
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A00%3A51.837&endDate=2025-11-13T17%3A00%3A51.837", parameters={masked}
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:00:51 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:51 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A00%3A51.837&endDate=2025-11-13T17%3A00%3A51.837
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A00%3A51.837&endDate=2025-11-13T17%3A00%3A51.837
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A00%3A51.837&endDate=2025-11-13T17%3A00%3A51.837
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A00%3A51.837&endDate=2025-11-13T17%3A00%3A51.837", parameters={masked}
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:00:51 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:53 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A53.054
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A53.054
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A53.054
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A53.054", parameters={masked}
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:00:53 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:53 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A53.054
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A53.054
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A53.054
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A53.054", parameters={masked}
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:00:53 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:54 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A00%3A54.413&endDate=2025-11-13T17%3A00%3A54.413
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A00%3A54.413&endDate=2025-11-13T17%3A00%3A54.413
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A00%3A54.413&endDate=2025-11-13T17%3A00%3A54.413
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A00%3A54.413&endDate=2025-11-13T17%3A00%3A54.413", parameters={masked}
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:00:54 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:54 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A00%3A54.413&endDate=2025-11-13T17%3A00%3A54.413
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A00%3A54.413&endDate=2025-11-13T17%3A00%3A54.413
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A00%3A54.413&endDate=2025-11-13T17%3A00%3A54.413
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A00%3A54.413&endDate=2025-11-13T17%3A00%3A54.413", parameters={masked}
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:00:54 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:55 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A55.477
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A55.477
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A55.477
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A55.477", parameters={masked}
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:00:55 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:55 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A55.477
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A55.477
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A55.477
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A55.477", parameters={masked}
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:00:55 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:56 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A56.629
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A56.629
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A56.629
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A56.629", parameters={masked}
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:00:56 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:00:56 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A56.629
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A56.629
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A56.629
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A00%3A56.629", parameters={masked}
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:00:56 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:02 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A01%3A02.677&endDate=2025-11-13T17%3A01%3A02.677
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A01%3A02.677&endDate=2025-11-13T17%3A01%3A02.677
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A01%3A02.677&endDate=2025-11-13T17%3A01%3A02.677
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A01%3A02.677&endDate=2025-11-13T17%3A01%3A02.677", parameters={masked}
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:01:02 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:02 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A01%3A02.677&endDate=2025-11-13T17%3A01%3A02.677
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A01%3A02.677&endDate=2025-11-13T17%3A01%3A02.677
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A01%3A02.677&endDate=2025-11-13T17%3A01%3A02.677
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A01%3A02.677&endDate=2025-11-13T17%3A01%3A02.677", parameters={masked}
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:01:02 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:05 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A01%3A05.141
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A01%3A05.141
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A01%3A05.141
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A01%3A05.141", parameters={masked}
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:01:05 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:05 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A01%3A05.141
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A01%3A05.141
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A01%3A05.141
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A01%3A05.141", parameters={masked}
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:01:05 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:07 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A01%3A07.517&endDate=2025-11-13T17%3A01%3A07.517
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A01%3A07.517&endDate=2025-11-13T17%3A01%3A07.517
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A01%3A07.517&endDate=2025-11-13T17%3A01%3A07.517
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A01%3A07.517&endDate=2025-11-13T17%3A01%3A07.517", parameters={masked}
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        date(b1_0.created_at),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        date(b1_0.created_at) 
    order by
        date(b1_0.created_at)
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-11-13 17:01:07 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:07 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A01%3A07.517&endDate=2025-11-13T17%3A01%3A07.517
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A01%3A07.517&endDate=2025-11-13T17%3A01%3A07.517
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A01%3A07.517&endDate=2025-11-13T17%3A01%3A07.517
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A01%3A07.517&endDate=2025-11-13T17%3A01%3A07.517", parameters={masked}
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalRevenue=13910.08, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuan (truncated)...]
2025-11-13 17:01:07 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:01:08 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:01:08 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:01:09 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:01:14 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:01:14 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:01:20 [http-nio-8881-exec-10] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.entity.Order.calculateTotals(Order.java:130)
	at com.restaurant.billing.service.OrderService.createOrder(OrderService.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.OrderService$$SpringCGLIB$$0.createOrder(<generated>)
	at com.restaurant.billing.controller.OrderController.createOrder(OrderController.java:33)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:01:20.254575005, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 17:01:20 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:03:17 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:03:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 17:03:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 17:03:54 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 305006 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 17:03:54 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 17:03:54 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 17:03:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 17:03:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 14 JPA repository interfaces.
2025-11-13 17:03:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 17:03:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 17:03:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 17:03:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 17:03:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 874 ms
2025-11-13 17:03:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 17:03:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 17:03:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 17:03:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 17:03:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 17:03:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1e50eb3f
2025-11-13 17:03:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 17:03:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 17:03:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 17:03:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:03:57 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 17:03:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 17:03:57 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 17:03:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 17:03:57 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 17:03:57 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 17:03:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 17:03:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 17:03:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 17:03:58 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 3.737 seconds (process running for 4.004)
2025-11-13 17:04:08 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 17:04:08 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4bd5086d
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1e42841a
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 17:04:08 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.bill_number,
        b1_0.change_amount,
        b1_0.created_at,
        b1_0.discount_amount,
        b1_0.generated_by,
        b1_0.invoice_path,
        b1_0.order_id,
        b1_0.paid_amount,
        b1_0.payment_method,
        b1_0.payment_status,
        b1_0.service_charge,
        b1_0.subtotal,
        b1_0.tax_amount,
        b1_0.tenant_id,
        b1_0.total_amount 
    from
        public.bills b1_0 
    where
        b1_0.order_id=?
2025-11-13 17:04:08 [http-nio-8881-exec-1] INFO  c.r.billing.service.OrderService - Bill generated for order: 21e60267-bf39-4968-b3f5-0f026f75bae5
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.bills
        (bill_number, change_amount, created_at, discount_amount, generated_by, invoice_path, order_id, paid_amount, payment_method, payment_status, service_charge, subtotal, tax_amount, tenant_id, total_amount, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=21e60267-bf39-4968-b3f5-0f026f75bae5, orderNumber=ORD1763033648483, tableId=null, tableN (truncated)...]
2025-11-13 17:04:08 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 17:04:08 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/sync
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 17:04:08 [http-nio-8881-exec-3] ERROR c.r.billing.service.SyncService - Sync error for item: 21e60267-bf39-4968-b3f5-0f026f75bae5
java.lang.IllegalArgumentException: Unknown entity type: order
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:04:08 [http-nio-8881-exec-3] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:04:08.583364470, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 17:04:08 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:04:43 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 17:04:43 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:04:43 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 17:04:43 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 17:04:43 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 17:04:43 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 17:04:43 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 17:04:43 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 17:04:44 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:04:44 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 17:04:44 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:04:44 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A04%3A44.237
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A04%3A44.237
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A04%3A44.237
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A04%3A44.237", parameters={masked}
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:04:44 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:04:44 [http-nio-8881-exec-7] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:04:44.394159525, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:04:44 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:04:47 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:04:56 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:05:17 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:05:17 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:05:19 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A05%3A19.760&endDate=2025-11-13T17%3A05%3A19.760
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A05%3A19.760&endDate=2025-11-13T17%3A05%3A19.760
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A05%3A19.760&endDate=2025-11-13T17%3A05%3A19.760
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A05%3A19.760&endDate=2025-11-13T17%3A05%3A19.760", parameters={masked}
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:05:19 [http-nio-8881-exec-3] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:05:19.850857838, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:05:19 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:05:23 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A05%3A23.341
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A05%3A23.341
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A05%3A23.341
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A05%3A23.341", parameters={masked}
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:05:23 [http-nio-8881-exec-5] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:05:23.424172758, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:05:23 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:05:42 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A05%3A42.053&endDate=2025-11-13T17%3A05%3A42.053
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A05%3A42.053&endDate=2025-11-13T17%3A05%3A42.053
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A05%3A42.053&endDate=2025-11-13T17%3A05%3A42.053
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A05%3A42.053&endDate=2025-11-13T17%3A05%3A42.053", parameters={masked}
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:05:42 [http-nio-8881-exec-7] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:05:42.133216750, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:05:42 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:05:43 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A05%3A42.974
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A05%3A42.974
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A05%3A42.974
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A05%3A42.974", parameters={masked}
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:05:43 [http-nio-8881-exec-9] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:05:43.038960568, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:05:43 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:05:47 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A05%3A47.313&endDate=2025-11-13T17%3A05%3A47.313
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A05%3A47.313&endDate=2025-11-13T17%3A05%3A47.313
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A05%3A47.313&endDate=2025-11-13T17%3A05%3A47.313
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A05%3A47.313&endDate=2025-11-13T17%3A05%3A47.313", parameters={masked}
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:05:47 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:05:47.390242474, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:05:47 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:06:43 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A06%3A43.871
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A06%3A43.871
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A06%3A43.871
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A06%3A43.871", parameters={masked}
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:06:43 [http-nio-8881-exec-3] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:06:43.934221156, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:06:43 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:06:44 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A06%3A44.799&endDate=2025-11-13T17%3A06%3A44.799
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A06%3A44.799&endDate=2025-11-13T17%3A06%3A44.799
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A06%3A44.799&endDate=2025-11-13T17%3A06%3A44.799
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A06%3A44.799&endDate=2025-11-13T17%3A06%3A44.799", parameters={masked}
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:06:44 [http-nio-8881-exec-5] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:06:44.856780226, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:06:44 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:06:45 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A06%3A45.383
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A06%3A45.383
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A06%3A45.383
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A06%3A45.383", parameters={masked}
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:06:45 [http-nio-8881-exec-7] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:06:45.448882988, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:06:45 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:06:46 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:08:06 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A08%3A06.268&endDate=2025-11-13T17%3A08%3A06.268
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A08%3A06.268&endDate=2025-11-13T17%3A08%3A06.268
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A08%3A06.268&endDate=2025-11-13T17%3A08%3A06.268
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A08%3A06.268&endDate=2025-11-13T17%3A08%3A06.268", parameters={masked}
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:08:06 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:08:06.417656121, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:08:06 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:08:09 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A09.425
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A09.425
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A09.425
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A09.425", parameters={masked}
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:08:09 [http-nio-8881-exec-3] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:08:09.498636011, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:08:09 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:08:11 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A08%3A11.538&endDate=2025-11-13T17%3A08%3A11.538
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A08%3A11.538&endDate=2025-11-13T17%3A08%3A11.538
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A08%3A11.538&endDate=2025-11-13T17%3A08%3A11.538
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A08%3A11.538&endDate=2025-11-13T17%3A08%3A11.538", parameters={masked}
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:08:11 [http-nio-8881-exec-5] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:08:11.610831034, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:08:11 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:08:12 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A12.730
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A12.730
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A12.730
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A12.730", parameters={masked}
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:08:12 [http-nio-8881-exec-7] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:08:12.814071689, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:08:12 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:08:57 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A08%3A56.955&endDate=2025-11-13T17%3A08%3A56.955
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A08%3A56.955&endDate=2025-11-13T17%3A08%3A56.955
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A08%3A56.955&endDate=2025-11-13T17%3A08%3A56.955
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A08%3A56.955&endDate=2025-11-13T17%3A08%3A56.955", parameters={masked}
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:08:57 [http-nio-8881-exec-9] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:08:57.013112395, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:08:57 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:08:58 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A58.299
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A58.299
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A58.299
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A08%3A58.299", parameters={masked}
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:08:58 [http-nio-8881-exec-1] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:08:58.364618195, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:08:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:28:26 [http-nio-8881-exec-2] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T11:49:44Z. Current time: 2025-11-13T11:58:26Z, a difference of 522487 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Nov 13 17:28:26 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/a (truncated)...]
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-11-13 17:28:26 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:28:43 [http-nio-8881-exec-4] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T11:49:44Z. Current time: 2025-11-13T11:58:43Z, a difference of 539730 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Nov 13 17:28:43 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/a (truncated)...]
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-11-13 17:28:43 [http-nio-8881-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:28:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:28:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 17:28:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 17:29:08 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 316028 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 17:29:08 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 17:29:08 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 17:29:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 17:29:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 14 JPA repository interfaces.
2025-11-13 17:29:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 17:29:09 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 17:29:09 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 17:29:09 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 17:29:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 962 ms
2025-11-13 17:29:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 17:29:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 17:29:09 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 17:29:09 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 17:29:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 17:29:09 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4b22214d
2025-11-13 17:29:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 17:29:09 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 17:29:10 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 17:29:10 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:29:11 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 17:29:11 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 17:29:11 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 17:29:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 17:29:11 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 17:29:11 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 17:29:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 17:29:12 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 17:29:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 17:29:12 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 4.083 seconds (process running for 4.36)
2025-11-13 17:29:46 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 17:29:46 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 17:29:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 17:29:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 17:29:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 17:29:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@542abb34
2025-11-13 17:29:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2a1107a9
2025-11-13 17:29:46 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 17:29:46 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-13 17:29:46 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 17:29:46 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 17:29:46 [http-nio-8881-exec-2] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T11:20:26Z. Current time: 2025-11-13T11:59:46Z, a difference of 2360983 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 17:29:46 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:29:46 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 17:29:46 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 17:29:46 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 17:29:47 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 17:29:47 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 17:29:47 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 17:29:47 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:29:47 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 17:29:47 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:29:47 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A29%3A47.354
2025-11-13 17:29:47 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A29%3A47.354
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A29%3A47.354
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A29%3A47.354", parameters={masked}
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:29:47 [http-nio-8881-exec-5] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:29:47.522955639, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:29:47 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:29:47 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:29:49 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:29:52 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:29:52 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:29:52 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:29:52 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.bill_number,
        b1_0.change_amount,
        b1_0.created_at,
        b1_0.discount_amount,
        b1_0.generated_by,
        b1_0.invoice_path,
        b1_0.order_id,
        b1_0.paid_amount,
        b1_0.payment_method,
        b1_0.payment_status,
        b1_0.service_charge,
        b1_0.subtotal,
        b1_0.tax_amount,
        b1_0.tenant_id,
        b1_0.total_amount 
    from
        public.bills b1_0 
    where
        b1_0.order_id=?
2025-11-13 17:29:57 [http-nio-8881-exec-2] INFO  c.r.billing.service.OrderService - Bill generated for order: 126159e1-3789-4f05-bb42-3976a592f38b
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.bills
        (bill_number, change_amount, created_at, discount_amount, generated_by, invoice_path, order_id, paid_amount, payment_method, payment_status, service_charge, subtotal, tax_amount, tenant_id, total_amount, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=126159e1-3789-4f05-bb42-3976a592f38b, orderNumber=ORD1763035197499, tableId=null, tableN (truncated)...]
2025-11-13 17:29:57 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 17:29:57 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/sync
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 17:29:57 [http-nio-8881-exec-4] ERROR c.r.billing.service.SyncService - Sync error for item: 126159e1-3789-4f05-bb42-3976a592f38b
java.lang.IllegalArgumentException: Unknown entity type: order
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:29:57 [http-nio-8881-exec-4] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:29:57.559574614, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 17:29:57 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:30:01 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:30:01 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:30:01 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:30:02 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A30%3A02.822&endDate=2025-11-13T17%3A30%3A02.822
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A30%3A02.822&endDate=2025-11-13T17%3A30%3A02.822
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A30%3A02.822&endDate=2025-11-13T17%3A30%3A02.822
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A30%3A02.822&endDate=2025-11-13T17%3A30%3A02.822", parameters={masked}
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:30:02 [http-nio-8881-exec-9] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:30:02.912427851, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:30:02 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:30:13 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:30:13 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:30:14 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A30%3A14.620&endDate=2025-11-13T17%3A30%3A14.620
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A30%3A14.620&endDate=2025-11-13T17%3A30%3A14.620
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A30%3A14.620&endDate=2025-11-13T17%3A30%3A14.620
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A30%3A14.620&endDate=2025-11-13T17%3A30%3A14.620", parameters={masked}
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:30:14 [http-nio-8881-exec-3] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:30:14.702350699, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:30:14 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:30:20 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:30:20 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:30:28 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A30%3A28.235&endDate=2025-11-13T17%3A30%3A28.235
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A30%3A28.235&endDate=2025-11-13T17%3A30%3A28.235
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A30%3A28.235&endDate=2025-11-13T17%3A30%3A28.235
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A30%3A28.235&endDate=2025-11-13T17%3A30%3A28.235", parameters={masked}
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:30:28 [http-nio-8881-exec-7] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: null
	at java.base/java.util.Objects.requireNonNull(Objects.java:209)
	at java.base/java.util.ImmutableCollections$MapN.<init>(ImmutableCollections.java:1186)
	at java.base/java.util.Map.of(Map.java:1373)
	at com.restaurant.billing.service.ReportService.lambda$getDayWiseSales$1(ReportService.java:39)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.restaurant.billing.service.ReportService.getDayWiseSales(ReportService.java:42)
	at com.restaurant.billing.controller.ReportController.getDayWiseSales(ReportController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:30:28.314520073, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException]
2025-11-13 17:30:28 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:31:00 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:31:10 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:31:26 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:32:23 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:33:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:33:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 17:33:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 17:33:09 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 319272 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 17:33:09 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 17:33:09 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 17:33:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 17:33:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 14 JPA repository interfaces.
2025-11-13 17:33:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 17:33:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 17:33:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 17:33:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 17:33:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 966 ms
2025-11-13 17:33:10 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 17:33:10 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 17:33:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 17:33:10 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 17:33:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 17:33:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@69b1e8f8
2025-11-13 17:33:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 17:33:10 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 17:33:11 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 17:33:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:33:12 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 17:33:12 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 17:33:12 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 17:33:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 17:33:12 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 17:33:13 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 17:33:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 17:33:13 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 17:33:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 17:33:13 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 3.99 seconds (process running for 4.241)
2025-11-13 17:33:25 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 17:33:25 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@359c9b3b
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2ad51ba4
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 17:33:25 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:33:25 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:33:25 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:33:28 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:33:32 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A33%3A32.085&endDate=2025-11-13T17%3A33%3A32.085
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A33%3A32.085&endDate=2025-11-13T17%3A33%3A32.085
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A33%3A32.085&endDate=2025-11-13T17%3A33%3A32.085
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A33%3A32.085&endDate=2025-11-13T17%3A33%3A32.085", parameters={masked}
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{date=2025-11-13, totalSales=0}]]
2025-11-13 17:33:32 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:33:32 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A33%3A32.085&endDate=2025-11-13T17%3A33%3A32.085
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A33%3A32.085&endDate=2025-11-13T17%3A33%3A32.085
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A33%3A32.085&endDate=2025-11-13T17%3A33%3A32.085
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A33%3A32.085&endDate=2025-11-13T17%3A33%3A32.085", parameters={masked}
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, totalRevenue=17387.60, totalQuan (truncated)...]
2025-11-13 17:33:32 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:33:54 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A33%3A54.541&endDate=2025-11-13T17%3A33%3A54.541
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A33%3A54.541&endDate=2025-11-13T17%3A33%3A54.541
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A33%3A54.541&endDate=2025-11-13T17%3A33%3A54.541
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A33%3A54.541&endDate=2025-11-13T17%3A33%3A54.541", parameters={masked}
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{date=2025-11-13, totalSales=0}]]
2025-11-13 17:33:54 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:33:54 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A33%3A54.541&endDate=2025-11-13T17%3A33%3A54.541
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A33%3A54.541&endDate=2025-11-13T17%3A33%3A54.541
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A33%3A54.541&endDate=2025-11-13T17%3A33%3A54.541
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A33%3A54.541&endDate=2025-11-13T17%3A33%3A54.541", parameters={masked}
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{itemName=string, menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, totalRevenue=17387.60, totalQuan (truncated)...]
2025-11-13 17:33:54 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:37:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:37:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 17:37:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 17:38:01 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 322035 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 17:38:01 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 17:38:01 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 17:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 17:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 14 JPA repository interfaces.
2025-11-13 17:38:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 17:38:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 17:38:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 17:38:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 17:38:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1029 ms
2025-11-13 17:38:02 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 17:38:02 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 17:38:02 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 17:38:02 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 17:38:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 17:38:02 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3c4ad54
2025-11-13 17:38:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 17:38:02 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 17:38:03 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 17:38:03 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:38:03 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 17:38:03 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 17:38:04 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 17:38:04 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 37 mappings in 'requestMappingHandlerMapping'
2025-11-13 17:38:04 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 17:38:04 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 17:38:04 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 17:38:04 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 17:38:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 17:38:04 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 4.17 seconds (process running for 4.436)
2025-11-13 17:38:53 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 17:38:53 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 17:38:53 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 17:38:53 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 17:38:53 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 17:38:53 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@43eb44f4
2025-11-13 17:38:53 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@654fdde2
2025-11-13 17:38:53 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 17:38:53 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-13 17:38:53 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 17:38:53 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 17:38:53 [http-nio-8881-exec-2] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T11:20:26Z. Current time: 2025-11-13T12:08:53Z, a difference of 2907867 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 17:38:53 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:38:53 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 17:38:53 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 17:38:53 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 17:38:53 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 17:38:53 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 17:38:53 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 17:38:54 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:38:54 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 17:38:54 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:38:54 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A38%3A54.258
2025-11-13 17:38:54 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A38%3A54.258
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A38%3A54.258
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A38%3A54.258", parameters={masked}
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{date=2025-11-13, totalSales=0}]]
2025-11-13 17:38:54 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:38:54 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:38:54 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A38%3A54.258
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A38%3A54.258
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A38%3A54.258
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A38%3A54.258", parameters={masked}
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=10, totalRevenue=1 (truncated)...]
2025-11-13 17:38:54 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:38:56 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:38:57 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:38:57 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:38:57 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:38:57 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:38:58 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A38%3A58.933&endDate=2025-11-13T17%3A38%3A58.933
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A38%3A58.933&endDate=2025-11-13T17%3A38%3A58.933
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A38%3A58.933&endDate=2025-11-13T17%3A38%3A58.933
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A38%3A58.933&endDate=2025-11-13T17%3A38%3A58.933", parameters={masked}
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{date=2025-11-13, totalSales=0}]]
2025-11-13 17:38:58 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:38:59 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A38%3A58.933&endDate=2025-11-13T17%3A38%3A58.933
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A38%3A58.933&endDate=2025-11-13T17%3A38%3A58.933
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A38%3A58.933&endDate=2025-11-13T17%3A38%3A58.933
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A38%3A58.933&endDate=2025-11-13T17%3A38%3A58.933", parameters={masked}
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=10, totalRevenue=1 (truncated)...]
2025-11-13 17:38:59 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:39:10 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:39:10 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:39:12 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:39:20 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:39:24 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:39:24 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.bill_number,
        b1_0.change_amount,
        b1_0.created_at,
        b1_0.discount_amount,
        b1_0.generated_by,
        b1_0.invoice_path,
        b1_0.order_id,
        b1_0.paid_amount,
        b1_0.payment_method,
        b1_0.payment_status,
        b1_0.service_charge,
        b1_0.subtotal,
        b1_0.tax_amount,
        b1_0.tenant_id,
        b1_0.total_amount 
    from
        public.bills b1_0 
    where
        b1_0.order_id=?
2025-11-13 17:39:28 [http-nio-8881-exec-4] INFO  c.r.billing.service.OrderService - Bill generated for order: 210558ae-e6a8-43c4-a624-805aad5d8501
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.bills
        (bill_number, change_amount, created_at, discount_amount, generated_by, invoice_path, order_id, paid_amount, payment_method, payment_status, service_charge, subtotal, tax_amount, tenant_id, total_amount, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=210558ae-e6a8-43c4-a624-805aad5d8501, orderNumber=ORD1763035768463, tableId=null, tableN (truncated)...]
2025-11-13 17:39:28 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 17:39:28 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/sync
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 17:39:28 [http-nio-8881-exec-6] ERROR c.r.billing.service.SyncService - Sync error for item: 210558ae-e6a8-43c4-a624-805aad5d8501
java.lang.IllegalArgumentException: Unknown entity type: order
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:39:28 [http-nio-8881-exec-6] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:39:28.521354438, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 17:39:28 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:39:36 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:39:38 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:39:52 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:40:10 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:40:10 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:40:10 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:40:10 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:40:10 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:40:10 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:40:10 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:40:10 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:40:11 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:40:24 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:40:24 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:40:25 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A40%3A25.869&endDate=2025-11-13T17%3A40%3A25.869
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A40%3A25.869&endDate=2025-11-13T17%3A40%3A25.869
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A40%3A25.869&endDate=2025-11-13T17%3A40%3A25.869
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A40%3A25.869&endDate=2025-11-13T17%3A40%3A25.869", parameters={masked}
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{date=2025-11-13, totalSales=0}]]
2025-11-13 17:40:25 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:40:25 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A40%3A25.869&endDate=2025-11-13T17%3A40%3A25.869
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A40%3A25.869&endDate=2025-11-13T17%3A40%3A25.869
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A40%3A25.869&endDate=2025-11-13T17%3A40%3A25.869
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A40%3A25.869&endDate=2025-11-13T17%3A40%3A25.869", parameters={masked}
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:40:25 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:40:49 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A40%3A49.214&endDate=2025-11-13T17%3A40%3A49.214
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A40%3A49.214&endDate=2025-11-13T17%3A40%3A49.214
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A40%3A49.214&endDate=2025-11-13T17%3A40%3A49.214
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A40%3A49.214&endDate=2025-11-13T17%3A40%3A49.214", parameters={masked}
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{date=2025-11-13, totalSales=0}]]
2025-11-13 17:40:49 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:40:49 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A40%3A49.214&endDate=2025-11-13T17%3A40%3A49.214
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A40%3A49.214&endDate=2025-11-13T17%3A40%3A49.214
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A40%3A49.214&endDate=2025-11-13T17%3A40%3A49.214
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A40%3A49.214&endDate=2025-11-13T17%3A40%3A49.214", parameters={masked}
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:40:49 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:43:13 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:43:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-13 17:43:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-13 17:44:39 [main] INFO  c.r.b.RestaurantBillingApplication - Starting RestaurantBillingApplication using Java 17.0.16 with PID 327943 (/home/ubuntu/Documents/Mine/restaurant-billing-system/build/classes/java/main started by ubuntu in /home/ubuntu/Documents/Mine/restaurant-billing-system)
2025-11-13 17:44:39 [main] DEBUG c.r.b.RestaurantBillingApplication - Running with Spring Boot v3.3.10, Spring v6.1.18
2025-11-13 17:44:39 [main] INFO  c.r.b.RestaurantBillingApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-13 17:44:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-13 17:44:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 14 JPA repository interfaces.
2025-11-13 17:44:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8881 (http)
2025-11-13 17:44:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-13 17:44:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-11-13 17:44:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-13 17:44:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 921 ms
2025-11-13 17:44:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-13 17:44:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2025-11-13 17:44:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-13 17:44:41 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-13 17:44:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-13 17:44:41 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d8dbf10
2025-11-13 17:44:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-13 17:44:41 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-13 17:44:41 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-13 17:44:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-13 17:44:42 [main] DEBUG c.r.b.s.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-11-13 17:44:42 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-13 17:44:43 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-11-13 17:44:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 42 mappings in 'requestMappingHandlerMapping'
2025-11-13 17:44:43 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-13 17:44:43 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-13 17:44:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-13 17:44:43 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-13 17:44:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8881 (http) with context path '/'
2025-11-13 17:44:43 [main] INFO  c.r.b.RestaurantBillingApplication - Started RestaurantBillingApplication in 3.901 seconds (process running for 4.169)
2025-11-13 17:44:49 [http-nio-8881-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-13 17:44:49 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5766f830
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1a2f6bef
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-13 17:44:49 [http-nio-8881-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-11-13 17:44:49 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-11-13 17:44:50 [http-nio-8881-exec-1] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 239 ms
2025-11-13 17:44:50 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json]
2025-11-13 17:44:50 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-11-13 17:44:50 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json;q=0.8', given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8] and supported [application/json, application/*+json]
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{timestamp=Thu Nov 13 17:44:50 IST 2025, status=403, error=Forbidden, message=Access Denied, path=/f (truncated)...]
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 403
2025-11-13 17:44:50 [http-nio-8881-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/auth/login
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-11-13 17:58:16 [http-nio-8881-exec-6] ERROR c.r.billing.security.JwtUtil - Invalid JWT token: JWT expired at 2025-11-13T12:23:54Z. Current time: 2025-11-13T12:28:16Z, a difference of 262252 milliseconds.  Allowed clock skew: 0 milliseconds.
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.AuthController#login(LoginRequest)
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginRequest(restaurantCode=RESTDA6A2D59, username=ganeshkumarg0242@gmail.com, password=Admin@3421)]
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.restaurant_code=?
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=? 
        and u1_0.tenant_id=?
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    update
        public.users 
    set
        auth_provider=?,
        email=?,
        google_id=?,
        is_active=?,
        last_login=?,
        name=?,
        password_hash=?,
        phone=?,
        refresh_token=?,
        refresh_token_expiry=?,
        role=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AuthResponse(accessToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiT1dORVIiLCJ0ZW5hbnRJZCI6IjgzMGI3NzczLWZhMz (truncated)...]
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:16 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/dashboard/today-sales
2025-11-13 17:58:16 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/dashboard/active-orders
2025-11-13 17:58:16 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/dashboard/pending-payments
2025-11-13 17:58:16 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/dashboard/tables-occupied
2025-11-13 17:58:16 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/dashboard/stats
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dashboard/today-sales
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dashboard/active-orders
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dashboard/stats
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dashboard/pending-payments
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dashboard/tables-occupied
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dashboard/active-orders
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dashboard/today-sales
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dashboard/pending-payments
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dashboard/tables-occupied
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dashboard/active-orders", parameters={}
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dashboard/tables-occupied", parameters={}
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dashboard/pending-payments", parameters={}
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dashboard/today-sales", parameters={}
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dashboard/stats
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dashboard/stats", parameters={}
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.DashboardController#getTodaySales()
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.DashboardController#getActiveOrders()
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.DashboardController#getTablesOccupied()
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.DashboardController#getPendingPayments()
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.DashboardController#getDashboardStats()
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.created_at,
        rt1_0.is_active,
        rt1_0.qr_code_path,
        rt1_0.seating_capacity,
        rt1_0.status,
        rt1_0.table_number,
        rt1_0.tenant_id,
        rt1_0.updated_at 
    from
        public.restaurant_tables rt1_0
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=0}]
2025-11-13 17:58:16 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.bill_number,
        b1_0.change_amount,
        b1_0.created_at,
        b1_0.discount_amount,
        b1_0.generated_by,
        b1_0.invoice_path,
        b1_0.order_id,
        b1_0.paid_amount,
        b1_0.payment_method,
        b1_0.payment_status,
        b1_0.service_charge,
        b1_0.subtotal,
        b1_0.tax_amount,
        b1_0.tenant_id,
        b1_0.total_amount 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=?
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=0}]
2025-11-13 17:58:16 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{amount=0}]
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 17:58:16 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:16 [http-nio-8881-exec-4] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null
	at java.base/java.math.BigDecimal.add(BigDecimal.java:1382)
	at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:657)
	at com.restaurant.billing.service.DashboardService.getDashboardStats(DashboardService.java:38)
	at com.restaurant.billing.controller.DashboardController.getDashboardStats(DashboardController.java:19)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=10}]
2025-11-13 17:58:16 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T17:58:16.785364192, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.NullPointerException: Cannot read field "intCompact" because "augend" is null]
2025-11-13 17:58:16 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 17:58:20 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/orders
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:58:20 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:31 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A31.631&endDate=2025-11-13T17%3A58%3A31.631
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A31.631&endDate=2025-11-13T17%3A58%3A31.631
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A31.631&endDate=2025-11-13T17%3A58%3A31.631
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A58%3A31.631&endDate=2025-11-13T17%3A58%3A31.631", parameters={masked}
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 17:58:31 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:31 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A31.631&endDate=2025-11-13T17%3A58%3A31.631
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A31.631&endDate=2025-11-13T17%3A58%3A31.631
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A31.631&endDate=2025-11-13T17%3A58%3A31.631
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A58%3A31.631&endDate=2025-11-13T17%3A58%3A31.631", parameters={masked}
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:58:31 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:35 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A35.062&endDate=2025-11-13T17%3A58%3A35.062
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A35.062&endDate=2025-11-13T17%3A58%3A35.062
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A35.062&endDate=2025-11-13T17%3A58%3A35.062
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A58%3A35.062&endDate=2025-11-13T17%3A58%3A35.062", parameters={masked}
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 17:58:35 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:35 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A35.062&endDate=2025-11-13T17%3A58%3A35.062
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A35.062&endDate=2025-11-13T17%3A58%3A35.062
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A35.062&endDate=2025-11-13T17%3A58%3A35.062
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A58%3A35.062&endDate=2025-11-13T17%3A58%3A35.062", parameters={masked}
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:58:35 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:36 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A36.218
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A36.218
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A36.218
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A36.218", parameters={masked}
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 17:58:36 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:36 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A36.218
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A36.218
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A36.218
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A36.218", parameters={masked}
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:58:36 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:37 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A37.305&endDate=2025-11-13T17%3A58%3A37.305
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A37.305&endDate=2025-11-13T17%3A58%3A37.305
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A37.305&endDate=2025-11-13T17%3A58%3A37.305
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A58%3A37.305&endDate=2025-11-13T17%3A58%3A37.305", parameters={masked}
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 17:58:37 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:37 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A37.305&endDate=2025-11-13T17%3A58%3A37.305
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A37.305&endDate=2025-11-13T17%3A58%3A37.305
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A37.305&endDate=2025-11-13T17%3A58%3A37.305
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A58%3A37.305&endDate=2025-11-13T17%3A58%3A37.305", parameters={masked}
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:58:37 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:38 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A37.985
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A37.985
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A37.985
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A37.985", parameters={masked}
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 17:58:38 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:38 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A37.985
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A37.985
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A37.985
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-01T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A37.985", parameters={masked}
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:58:38 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:39 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A39.305&endDate=2025-11-13T17%3A58%3A39.305
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A39.305&endDate=2025-11-13T17%3A58%3A39.305
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A39.305&endDate=2025-11-13T17%3A58%3A39.305
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A58%3A39.305&endDate=2025-11-13T17%3A58%3A39.305", parameters={masked}
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 17:58:39 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:39 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A39.305&endDate=2025-11-13T17%3A58%3A39.305
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A39.305&endDate=2025-11-13T17%3A58%3A39.305
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A39.305&endDate=2025-11-13T17%3A58%3A39.305
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A58%3A39.305&endDate=2025-11-13T17%3A58%3A39.305", parameters={masked}
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:58:39 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:40 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A40.033
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A40.033
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A40.033
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A40.033", parameters={masked}
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 17:58:40 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:40 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A40.033
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A40.033
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A40.033
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T17%3A58%3A40.033", parameters={masked}
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:58:40 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:45 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/menu
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:58:45 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:45 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/categories?activeOnly=true
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:58:45 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:45 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A45.467&endDate=2025-11-13T17%3A58%3A45.467
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A45.467&endDate=2025-11-13T17%3A58%3A45.467
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A58%3A45.467&endDate=2025-11-13T17%3A58%3A45.467
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A58%3A45.467&endDate=2025-11-13T17%3A58%3A45.467", parameters={masked}
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 17:58:45 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:45 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A45.467&endDate=2025-11-13T17%3A58%3A45.467
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A45.467&endDate=2025-11-13T17%3A58%3A45.467
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A58%3A45.467&endDate=2025-11-13T17%3A58%3A45.467
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A58%3A45.467&endDate=2025-11-13T17%3A58%3A45.467", parameters={masked}
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:58:45 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:58:47 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:58:47 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:58:48 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:58:50 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:58:58 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:59:03 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 17:59:12 [http-nio-8881-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:59:17 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T17%3A59%3A17.186&endDate=2025-11-13T17%3A59%3A17.186
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T17%3A59%3A17.186&endDate=2025-11-13T17%3A59%3A17.186
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T17%3A59%3A17.186&endDate=2025-11-13T17%3A59%3A17.186
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T17%3A59%3A17.186&endDate=2025-11-13T17%3A59%3A17.186", parameters={masked}
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 17:59:17 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:59:17 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T17%3A59%3A17.186&endDate=2025-11-13T17%3A59%3A17.186
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T17%3A59%3A17.186&endDate=2025-11-13T17%3A59%3A17.186
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T17%3A59%3A17.186&endDate=2025-11-13T17%3A59%3A17.186
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T17%3A59%3A17.186&endDate=2025-11-13T17%3A59%3A17.186", parameters={masked}
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=11, totalRevenue=1 (truncated)...]
2025-11-13 17:59:17 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 17:59:20 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 17:59:20 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.bill_number,
        b1_0.change_amount,
        b1_0.created_at,
        b1_0.discount_amount,
        b1_0.generated_by,
        b1_0.invoice_path,
        b1_0.order_id,
        b1_0.paid_amount,
        b1_0.payment_method,
        b1_0.payment_status,
        b1_0.service_charge,
        b1_0.subtotal,
        b1_0.tax_amount,
        b1_0.tenant_id,
        b1_0.total_amount 
    from
        public.bills b1_0 
    where
        b1_0.order_id=?
2025-11-13 18:02:18 [http-nio-8881-exec-6] INFO  c.r.billing.service.OrderService - Bill generated for order: 45ce93a0-46f7-4902-8615-535428e6668b
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.bills
        (bill_number, change_amount, created_at, discount_amount, generated_by, invoice_path, order_id, paid_amount, payment_method, payment_status, service_charge, subtotal, tax_amount, tenant_id, total_amount, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=45ce93a0-46f7-4902-8615-535428e6668b, orderNumber=ORD1763037138504, tableId=null, tableN (truncated)...]
2025-11-13 18:02:18 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 18:02:18 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/sync
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 18:02:18 [http-nio-8881-exec-2] ERROR c.r.billing.service.SyncService - Sync error for item: 45ce93a0-46f7-4902-8615-535428e6668b
java.lang.IllegalArgumentException: Unknown entity type: order
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 18:02:18 [http-nio-8881-exec-2] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T18:02:18.560887798, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 18:02:18 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 18:02:25 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 18:02:25 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/orders
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/orders
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/orders", parameters={}
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#createOrder(CreateOrderRequest)
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateOrderRequest(tableId=null, customerName=null, customerPhone=null, orderType=DINE_IN, items=[Or (truncated)...]
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.address,
        t1_0.city,
        t1_0.created_at,
        t1_0.currency,
        t1_0.gstin,
        t1_0.is_active,
        t1_0.logo_path,
        t1_0.max_storage_gb,
        t1_0.max_users,
        t1_0.owner_email,
        t1_0.owner_name,
        t1_0.owner_phone,
        t1_0.pincode,
        t1_0.razorpay_customer_id,
        t1_0.razorpay_subscription_id,
        t1_0.restaurant_code,
        t1_0.restaurant_name,
        t1_0.service_charge_rate,
        t1_0.state,
        t1_0.subscription_end_date,
        t1_0.subscription_plan,
        t1_0.subscription_start_date,
        t1_0.subscription_status,
        t1_0.tax_rate,
        t1_0.timezone,
        t1_0.trial_end_date,
        t1_0.updated_at 
    from
        public.tenants t1_0 
    where
        t1_0.id=?
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.id=?
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    select
        b1_0.id,
        b1_0.bill_number,
        b1_0.change_amount,
        b1_0.created_at,
        b1_0.discount_amount,
        b1_0.generated_by,
        b1_0.invoice_path,
        b1_0.order_id,
        b1_0.paid_amount,
        b1_0.payment_method,
        b1_0.payment_status,
        b1_0.service_charge,
        b1_0.subtotal,
        b1_0.tax_amount,
        b1_0.tenant_id,
        b1_0.total_amount 
    from
        public.bills b1_0 
    where
        b1_0.order_id=?
2025-11-13 18:02:29 [http-nio-8881-exec-7] INFO  c.r.billing.service.OrderService - Bill generated for order: 1483292f-3f56-456b-b6ba-f6090912e530
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.orders
        (created_at, created_by, customer_name, customer_phone, device_id, discount_amount, is_deleted, notes, order_number, order_status, order_type, service_charge, subtotal, synced_at, table_id, tax_amount, tenant_id, total_amount, updated_at, version, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.order_items
        (created_at, item_name, menu_item_id, order_id, quantity, special_instructions, status, total_price, unit_price, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        public.bills
        (bill_number, change_amount, created_at, discount_amount, generated_by, invoice_path, order_id, paid_amount, payment_method, payment_status, service_charge, subtotal, tax_amount, tenant_id, total_amount, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [OrderDto(id=1483292f-3f56-456b-b6ba-f6090912e530, orderNumber=ORD1763037149461, tableId=null, tableN (truncated)...]
2025-11-13 18:02:29 [http-nio-8881-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 201 CREATED
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sync
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sync
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sync", parameters={}
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.SyncController#performSync(SyncRequest)
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SyncRequest(deviceId=8e8c286b-82b1-4e01-ae99-60ee7d369148, lastSyncTime=1970-01-01T05:30, data=[Sync (truncated)...]
2025-11-13 18:02:29 [http-nio-8881-exec-8] ERROR c.r.billing.service.SyncService - Sync error for item: 45ce93a0-46f7-4902-8615-535428e6668b
java.lang.IllegalArgumentException: Unknown entity type: order
	at com.restaurant.billing.service.SyncService.processSyncItem(SyncService.java:107)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:34)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.restaurant.billing.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-11-13 18:02:29 [http-nio-8881-exec-8] ERROR c.r.b.e.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create
	at java.base/java.lang.Enum.valueOf(Enum.java:273)
	at com.restaurant.billing.entity.SyncLog$SyncOperation.valueOf(SyncLog.java:65)
	at com.restaurant.billing.service.SyncService.logSync(SyncService.java:158)
	at com.restaurant.billing.service.SyncService.performSync(SyncService.java:51)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.restaurant.billing.service.SyncService$$SpringCGLIB$$0.performSync(<generated>)
	at com.restaurant.billing.controller.SyncController.performSync(SyncController.java:23)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.restaurant.billing.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:840)
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ErrorResponse(timestamp=2025-11-13T18:02:29.507439407, status=500, error=Internal Server Error, mess (truncated)...]
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [java.lang.IllegalArgumentException: No enum constant com.restaurant.billing.entity.SyncLog.SyncOperation.create]
2025-11-13 18:02:29 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 18:02:33 [http-nio-8881-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 18:02:33 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:34 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T18%3A02%3A34.253&endDate=2025-11-13T18%3A02%3A34.253
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T18%3A02%3A34.253&endDate=2025-11-13T18%3A02%3A34.253
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T18%3A02%3A34.253&endDate=2025-11-13T18%3A02%3A34.253
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T18%3A02%3A34.253&endDate=2025-11-13T18%3A02%3A34.253", parameters={masked}
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 18:02:34 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:34 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T18%3A02%3A34.253&endDate=2025-11-13T18%3A02%3A34.253
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T18%3A02%3A34.253&endDate=2025-11-13T18%3A02%3A34.253
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T18%3A02%3A34.253&endDate=2025-11-13T18%3A02%3A34.253
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T18%3A02%3A34.253&endDate=2025-11-13T18%3A02%3A34.253", parameters={masked}
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=22, totalRevenue=3 (truncated)...]
2025-11-13 18:02:34 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:36 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T18%3A02%3A36.006
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T18%3A02%3A36.006
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T18%3A02%3A36.006
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T18%3A02%3A36.006", parameters={masked}
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 18:02:36 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:36 [http-nio-8881-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T18%3A02%3A36.006
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T18%3A02%3A36.006
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T18%3A02%3A36.006
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-13T00%3A00%3A00.000&endDate=2025-11-13T18%3A02%3A36.006", parameters={masked}
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=22, totalRevenue=3 (truncated)...]
2025-11-13 18:02:36 [http-nio-8881-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:36 [http-nio-8881-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/day-wise?startDate=2025-11-06T18%3A02%3A36.742&endDate=2025-11-13T18%3A02%3A36.742
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/day-wise?startDate=2025-11-06T18%3A02%3A36.742&endDate=2025-11-13T18%3A02%3A36.742
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/day-wise?startDate=2025-11-06T18%3A02%3A36.742&endDate=2025-11-13T18%3A02%3A36.742
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/day-wise?startDate=2025-11-06T18%3A02%3A36.742&endDate=2025-11-13T18%3A02%3A36.742", parameters={masked}
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getDayWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG org.hibernate.SQL - 
    select
        cast(b1_0.created_at as date),
        sum(b1_0.total_amount) 
    from
        public.bills b1_0 
    where
        b1_0.tenant_id=? 
        and b1_0.created_at between ? and ? 
    group by
        cast(b1_0.created_at as date) 
    order by
        cast(b1_0.created_at as date)
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{totalSales=0, date=2025-11-13}]]
2025-11-13 18:02:36 [http-nio-8881-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:36 [http-nio-8881-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing OPTIONS /api/reports/product-wise?startDate=2025-11-06T18%3A02%3A36.742&endDate=2025-11-13T18%3A02%3A36.742
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reports/product-wise?startDate=2025-11-06T18%3A02%3A36.742&endDate=2025-11-13T18%3A02%3A36.742
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reports/product-wise?startDate=2025-11-06T18%3A02%3A36.742&endDate=2025-11-13T18%3A02%3A36.742
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/reports/product-wise?startDate=2025-11-06T18%3A02%3A36.742&endDate=2025-11-13T18%3A02%3A36.742", parameters={masked}
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.ReportController#getProductWiseSales(LocalDateTime, LocalDateTime)
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG org.hibernate.SQL - 
    select
        oi1_0.menu_item_id,
        oi1_0.item_name,
        sum(oi1_0.quantity),
        sum(oi1_0.total_price) 
    from
        public.order_items oi1_0 
    join
        public.orders o1_0 
            on o1_0.id=oi1_0.order_id 
    where
        o1_0.tenant_id=? 
        and o1_0.created_at between ? and ? 
    group by
        oi1_0.menu_item_id,
        oi1_0.item_name 
    order by
        sum(oi1_0.total_price) desc
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{menuItemId=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, itemName=string, totalQuantity=22, totalRevenue=3 (truncated)...]
2025-11-13 18:02:36 [http-nio-8881-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 18:02:48 [http-nio-8881-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/orders
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/orders
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/orders", parameters={}
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.OrderController#getAllOrders()
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        o1_0.id,
        o1_0.created_at,
        o1_0.created_by,
        o1_0.customer_name,
        o1_0.customer_phone,
        o1_0.device_id,
        o1_0.discount_amount,
        o1_0.is_deleted,
        o1_0.notes,
        o1_0.order_number,
        o1_0.order_status,
        o1_0.order_type,
        o1_0.service_charge,
        o1_0.subtotal,
        o1_0.synced_at,
        o1_0.table_id,
        o1_0.tax_amount,
        o1_0.tenant_id,
        o1_0.total_amount,
        o1_0.updated_at,
        o1_0.version 
    from
        public.orders o1_0 
    where
        o1_0.tenant_id=? 
        and o1_0.is_deleted=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG org.hibernate.SQL - 
    select
        i1_0.order_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.item_name,
        i1_0.menu_item_id,
        i1_0.quantity,
        i1_0.special_instructions,
        i1_0.status,
        i1_0.total_price,
        i1_0.unit_price 
    from
        public.order_items i1_0 
    where
        i1_0.order_id=?
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[OrderDto(id=f4bb89dd-3ef7-4eb0-96a7-b2e22c3f18f2, orderNumber=ORD1763028586709, tableId=null, table (truncated)...]
2025-11-13 18:03:01 [http-nio-8881-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/menu
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/menu
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu", parameters={}
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.MenuController#getAllMenuItems()
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG org.hibernate.SQL - 
    select
        mi1_0.id,
        mi1_0.category_id,
        mi1_0.created_at,
        mi1_0.description,
        mi1_0.device_id,
        mi1_0.image_path,
        mi1_0.is_available,
        mi1_0.is_deleted,
        mi1_0.is_veg,
        mi1_0.name,
        mi1_0.preparation_time,
        mi1_0.price,
        mi1_0.synced_at,
        mi1_0.tenant_id,
        mi1_0.updated_at,
        mi1_0.version 
    from
        public.menu_items mi1_0 
    where
        mi1_0.tenant_id=? 
        and mi1_0.is_deleted=?
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MenuItemDto(id=594e7cf9-d196-4f7b-8cf0-0d239ccb675c, categoryId=8e080396-f804-4474-9aa0-bcbe91d39b4 (truncated)...]
2025-11-13 18:03:53 [http-nio-8881-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/categories?activeOnly=true
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/categories?activeOnly=true
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/categories?activeOnly=true", parameters={masked}
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.restaurant.billing.controller.CategoryController#getAllCategories(UserDetails, Boolean)
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG c.r.b.security.TenantInterceptor - Setting tenant context for request: 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.auth_provider,
        u1_0.created_at,
        u1_0.email,
        u1_0.google_id,
        u1_0.is_active,
        u1_0.last_login,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone,
        u1_0.refresh_token,
        u1_0.refresh_token_expiry,
        u1_0.role,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        public.users u1_0 
    where
        u1_0.email=?
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.created_at,
        c1_0.display_order,
        c1_0.is_active,
        c1_0.name,
        c1_0.tenant_id,
        c1_0.updated_at 
    from
        public.categories c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.is_active=? 
    order by
        c1_0.display_order
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG c.r.billing.service.CategoryService - Found 2 categories for tenant 830b7773-fa36-4190-87ab-7e5624d84fab
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CategoryDto(id=da85453e-dd3b-4cd6-9a12-8a06624e962b, name=Dosa, displayOrder=1), CategoryDto(id=8e0 (truncated)...]
2025-11-13 18:03:53 [http-nio-8881-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
